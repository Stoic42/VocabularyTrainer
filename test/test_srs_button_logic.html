<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SRSæŒ‰é’®é€»è¾‘æµ‹è¯•</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f5f5f5;
        }
        .container {
            background: white;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 20px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .test-section {
            border: 2px solid #ddd;
            border-radius: 8px;
            padding: 15px;
            margin: 10px 0;
        }
        .test-section.passed {
            border-color: #28a745;
            background-color: #d4edda;
        }
        .test-section.failed {
            border-color: #dc3545;
            background-color: #f8d7da;
        }
        .button {
            background: #007bff;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            margin: 5px;
        }
        .button:hover {
            background: #0056b3;
        }
        .button.hidden {
            display: none;
        }
        .status {
            font-weight: bold;
            margin: 10px 0;
        }
        .status.success {
            color: #28a745;
        }
        .status.error {
            color: #dc3545;
        }
        .status.info {
            color: #17a2b8;
        }
        .mock-container {
            border: 1px solid #ccc;
            padding: 10px;
            margin: 10px 0;
            border-radius: 5px;
            background: #f8f9fa;
        }
        .mock-container.hidden {
            display: none;
        }
    </style>
</head>
<body>
    <h1>ğŸ§ª SRSæŒ‰é’®é€»è¾‘æµ‹è¯•</h1>
    
    <div class="container">
        <h2>æµ‹è¯•è¯´æ˜</h2>
        <p>æœ¬æµ‹è¯•é¡µé¢ç”¨äºéªŒè¯SRSå¤ä¹ æ¨¡å¼çš„æŒ‰é’®é€»è¾‘ä¼˜åŒ–ï¼š</p>
        <ul>
            <li>âœ… ç»Ÿä¸€å…¥å£ï¼šåªæœ‰"æ™ºèƒ½å¤ä¹ "æŒ‰é’®ä½œä¸ºä¸»è¦å…¥å£</li>
            <li>âœ… éšè—å†—ä½™ï¼šSRSæ¨¡å¼ä¸‹éšè—"å¼€å§‹æµ‹è¯•"æŒ‰é’®</li>
            <li>âœ… æ¸…æ™°æµç¨‹ï¼šé¿å…å¤šä¸ªæŒ‰é’®å¯¼è‡´ç•Œé¢è‡ƒè‚¿</li>
        </ul>
    </div>

    <div class="container">
        <h2>å­¦ä¹ æ¨¡å¼é€‰æ‹©</h2>
        <select id="study-mode" onchange="testModeChange()">
            <option value="standard">æ ‡å‡†æ¨¡å¼</option>
            <option value="dictation">é»˜å†™æ¨¡å¼</option>
            <option value="error_review">é”™è¯å¤ä¹ æ¨¡å¼</option>
            <option value="error_clear">é”™è¯æ¸…é›¶æ¨¡å¼</option>
            <option value="srs_review">SRSå¤ä¹ æ¨¡å¼</option>
        </select>
        
        <div class="status" id="mode-status">è¯·é€‰æ‹©å­¦ä¹ æ¨¡å¼</div>
    </div>

    <div class="container">
        <h2>æŒ‰é’®çŠ¶æ€æµ‹è¯•</h2>
        
        <div class="test-section" id="start-btn-test">
            <h3>å¼€å§‹æµ‹è¯•æŒ‰é’® (start-btn)</h3>
            <button id="start-btn" class="button">å¼€å§‹æµ‹è¯•</button>
            <div class="status" id="start-btn-status">çŠ¶æ€ï¼šæ˜¾ç¤º</div>
            <div class="mock-container" id="start-btn-container">
                <p>è¿™ä¸ªæŒ‰é’®åº”è¯¥ï¼š</p>
                <ul>
                    <li>åœ¨æ‰€æœ‰æ¨¡å¼ä¸‹éƒ½æ˜¾ç¤ºï¼ˆåŒ…æ‹¬SRSå¤ä¹ æ¨¡å¼ï¼‰</li>
                    <li>åœ¨SRSæ¨¡å¼ä¸‹ç‚¹å‡»åéšè—æ‰€æœ‰ä¸ç›¸å¹²çš„div</li>
                    <li>è®©SRSå¤ä¹ åŒºåŸŸåœ¨è§†è§‰ä¸Šå‡ºç°åœ¨å¦ä¸€ä¸ªç•Œé¢</li>
                </ul>
            </div>
        </div>

        <div class="test-section" id="srs-review-btn-test">
            <h3>æ™ºèƒ½å¤ä¹ æŒ‰é’® (srs-review-btn)</h3>
            <button id="srs-review-btn" class="button">ğŸ”„ æ™ºèƒ½å¤ä¹ </button>
            <div class="status" id="srs-review-btn-status">çŠ¶æ€ï¼šæ˜¾ç¤º</div>
            <div class="mock-container" id="srs-review-btn-container">
                <p>è¿™ä¸ªæŒ‰é’®åº”è¯¥ï¼š</p>
                <ul>
                    <li>åªåœ¨SRSå¤ä¹ æ¨¡å¼ä¸‹æ˜¾ç¤º</li>
                    <li>ç‚¹å‡»åç›´æ¥è¿›å…¥SRSå¤ä¹ æµç¨‹</li>
                    <li>ä¸å†åˆ‡æ¢å­¦ä¹ æ¨¡å¼</li>
                </ul>
            </div>
        </div>

        <div class="test-section" id="srs-start-btn-test">
            <h3>SRSå¼€å§‹å¤ä¹ æŒ‰é’® (srs-start-btn)</h3>
            <button id="srs-start-btn" class="button">ğŸš€ å¼€å§‹SRSå¤ä¹ </button>
            <div class="status" id="srs-start-btn-status">çŠ¶æ€ï¼šéšè—</div>
            <div class="mock-container" id="srs-start-btn-container">
                <p>è¿™ä¸ªæŒ‰é’®åº”è¯¥ï¼š</p>
                <ul>
                    <li>åªåœ¨SRSå¤ä¹ æ¨¡å¼ä¸‹æ˜¾ç¤º</li>
                    <li>ä½œä¸ºSRSå¤ä¹ çš„ä¸»è¦å…¥å£</li>
                </ul>
            </div>
        </div>
    </div>

    <div class="container">
        <h2>ç•Œé¢å®¹å™¨æµ‹è¯•</h2>
        
        <div class="test-section" id="srs-mastery-test">
            <h3>SRSæŒæ¡åº¦å®¹å™¨ (srs-mastery-container)</h3>
            <div class="mock-container" id="srs-mastery-container">
                <h4>ğŸ“š æ™ºèƒ½å­¦ä¹ è¿›åº¦</h4>
                <p>è¿™ä¸ªå®¹å™¨åº”è¯¥åªåœ¨SRSå¤ä¹ æ¨¡å¼ä¸‹æ˜¾ç¤º</p>
            </div>
            <div class="status" id="srs-mastery-status">çŠ¶æ€ï¼šéšè—</div>
        </div>

        <div class="test-section" id="srs-review-area-test">
            <h3>SRSå¤ä¹ åŒºåŸŸ (srs-review-area)</h3>
            <div class="mock-container" id="srs-review-area">
                <h4>ğŸ”„ SRSæ™ºèƒ½å¤ä¹ </h4>
                <p>è¿™ä¸ªåŒºåŸŸåº”è¯¥åªåœ¨SRSå¤ä¹ æ¨¡å¼ä¸‹æ˜¾ç¤º</p>
            </div>
            <div class="status" id="srs-review-area-status">çŠ¶æ€ï¼šéšè—</div>
        </div>

        <div class="test-section" id="error-stats-test">
            <h3>é”™è¯ç»Ÿè®¡å®¹å™¨ (error-stats-container)</h3>
            <div class="mock-container" id="error-stats-container">
                <h4>ğŸ“Š é”™è¯ç»Ÿè®¡</h4>
                <p>è¿™ä¸ªå®¹å™¨åº”è¯¥åªåœ¨é”™è¯å¤ä¹ å’Œé”™è¯æ¸…é›¶æ¨¡å¼ä¸‹æ˜¾ç¤º</p>
            </div>
            <div class="status" id="error-stats-status">çŠ¶æ€ï¼šéšè—</div>
        </div>
    </div>

    <div class="container">
        <h2>æµ‹è¯•ç»“æœ</h2>
        <div id="test-results">
            <p>è¯·é€‰æ‹©å­¦ä¹ æ¨¡å¼å¼€å§‹æµ‹è¯•</p>
        </div>
        <button class="button" onclick="runAllTests()">è¿è¡Œæ‰€æœ‰æµ‹è¯•</button>
        <button class="button" onclick="resetTests()">é‡ç½®æµ‹è¯•</button>
    </div>

    <script>
        let testResults = {
            startBtnLogic: false,
            srsReviewBtnLogic: false,
            srsStartBtnLogic: false,
            containerLogic: false
        };

        function testModeChange() {
            const selectedMode = document.getElementById('study-mode').value;
            const startBtn = document.getElementById('start-btn');
            const srsReviewBtn = document.getElementById('srs-review-btn');
            const srsStartBtn = document.getElementById('srs-start-btn');
            const srsMasteryContainer = document.getElementById('srs-mastery-container');
            const srsReviewArea = document.getElementById('srs-review-area');
            const errorStatsContainer = document.getElementById('error-stats-container');

            // æ›´æ–°çŠ¶æ€æ˜¾ç¤º
            document.getElementById('mode-status').textContent = `å½“å‰æ¨¡å¼ï¼š${getModeName(selectedMode)}`;
            document.getElementById('mode-status').className = 'status info';

            // æµ‹è¯•å¼€å§‹æŒ‰é’®é€»è¾‘
            if (selectedMode === 'srs_review') {
                startBtn.classList.remove('hidden');
                document.getElementById('start-btn-status').textContent = 'çŠ¶æ€ï¼šæ˜¾ç¤º âœ…';
                document.getElementById('start-btn-status').className = 'status success';
                testResults.startBtnLogic = true;
            } else {
                startBtn.classList.remove('hidden');
                document.getElementById('start-btn-status').textContent = 'çŠ¶æ€ï¼šæ˜¾ç¤º âœ…';
                document.getElementById('start-btn-status').className = 'status success';
                testResults.startBtnLogic = true;
            }

            // æµ‹è¯•SRSå¤ä¹ æŒ‰é’®é€»è¾‘
            if (selectedMode === 'srs_review') {
                srsReviewBtn.classList.remove('hidden');
                document.getElementById('srs-review-btn-status').textContent = 'çŠ¶æ€ï¼šæ˜¾ç¤º âœ…';
                document.getElementById('srs-review-btn-status').className = 'status success';
                testResults.srsReviewBtnLogic = true;
            } else {
                srsReviewBtn.classList.add('hidden');
                document.getElementById('srs-review-btn-status').textContent = 'çŠ¶æ€ï¼šéšè— âœ…';
                document.getElementById('srs-review-btn-status').className = 'status success';
                testResults.srsReviewBtnLogic = true;
            }

            // æµ‹è¯•SRSå¼€å§‹æŒ‰é’®é€»è¾‘
            if (selectedMode === 'srs_review') {
                srsStartBtn.classList.remove('hidden');
                document.getElementById('srs-start-btn-status').textContent = 'çŠ¶æ€ï¼šæ˜¾ç¤º âœ…';
                document.getElementById('srs-start-btn-status').className = 'status success';
                testResults.srsStartBtnLogic = true;
            } else {
                srsStartBtn.classList.add('hidden');
                document.getElementById('srs-start-btn-status').textContent = 'çŠ¶æ€ï¼šéšè— âœ…';
                document.getElementById('srs-start-btn-status').className = 'status success';
                testResults.srsStartBtnLogic = true;
            }

            // æµ‹è¯•å®¹å™¨æ˜¾ç¤ºé€»è¾‘
            let containerTestPassed = true;

            // SRSæŒæ¡åº¦å®¹å™¨
            if (selectedMode === 'srs_review') {
                srsMasteryContainer.classList.remove('hidden');
                document.getElementById('srs-mastery-status').textContent = 'çŠ¶æ€ï¼šæ˜¾ç¤º âœ…';
                document.getElementById('srs-mastery-status').className = 'status success';
            } else {
                srsMasteryContainer.classList.add('hidden');
                document.getElementById('srs-mastery-status').textContent = 'çŠ¶æ€ï¼šéšè— âœ…';
                document.getElementById('srs-mastery-status').className = 'status success';
            }

            // SRSå¤ä¹ åŒºåŸŸ
            if (selectedMode === 'srs_review') {
                srsReviewArea.classList.remove('hidden');
                document.getElementById('srs-review-area-status').textContent = 'çŠ¶æ€ï¼šæ˜¾ç¤º âœ…';
                document.getElementById('srs-review-area-status').className = 'status success';
            } else {
                srsReviewArea.classList.add('hidden');
                document.getElementById('srs-review-area-status').textContent = 'çŠ¶æ€ï¼šéšè— âœ…';
                document.getElementById('srs-review-area-status').className = 'status success';
            }

            // é”™è¯ç»Ÿè®¡å®¹å™¨
            if (selectedMode === 'error_review' || selectedMode === 'error_clear') {
                errorStatsContainer.classList.remove('hidden');
                document.getElementById('error-stats-status').textContent = 'çŠ¶æ€ï¼šæ˜¾ç¤º âœ…';
                document.getElementById('error-stats-status').className = 'status success';
            } else {
                errorStatsContainer.classList.add('hidden');
                document.getElementById('error-stats-status').textContent = 'çŠ¶æ€ï¼šéšè— âœ…';
                document.getElementById('error-stats-status').className = 'status success';
            }

            testResults.containerLogic = containerTestPassed;

            // æ›´æ–°æµ‹è¯•åŒºåŸŸæ ·å¼
            updateTestSectionStyles();
        }

        function getModeName(mode) {
            const modeNames = {
                'standard': 'æ ‡å‡†æ¨¡å¼',
                'dictation': 'é»˜å†™æ¨¡å¼',
                'error_review': 'é”™è¯å¤ä¹ æ¨¡å¼',
                'error_clear': 'é”™è¯æ¸…é›¶æ¨¡å¼',
                'srs_review': 'SRSå¤ä¹ æ¨¡å¼'
            };
            return modeNames[mode] || mode;
        }

        function updateTestSectionStyles() {
            const sections = document.querySelectorAll('.test-section');
            sections.forEach(section => {
                const statusElement = section.querySelector('.status');
                if (statusElement && statusElement.textContent.includes('âœ…')) {
                    section.classList.add('passed');
                    section.classList.remove('failed');
                } else if (statusElement && statusElement.textContent.includes('âŒ')) {
                    section.classList.add('failed');
                    section.classList.remove('passed');
                } else {
                    section.classList.remove('passed', 'failed');
                }
            });
        }

        function runAllTests() {
            // æµ‹è¯•æ‰€æœ‰æ¨¡å¼
            const modes = ['standard', 'dictation', 'error_review', 'error_clear', 'srs_review'];
            let currentIndex = 0;

            function testNextMode() {
                if (currentIndex < modes.length) {
                    document.getElementById('study-mode').value = modes[currentIndex];
                    testModeChange();
                    currentIndex++;
                    setTimeout(testNextMode, 1000);
                } else {
                    showFinalResults();
                }
            }

            testNextMode();
        }

        function showFinalResults() {
            const allPassed = Object.values(testResults).every(result => result);
            const resultsDiv = document.getElementById('test-results');
            
            if (allPassed) {
                resultsDiv.innerHTML = `
                    <div class="status success">
                        <h3>ğŸ‰ æ‰€æœ‰æµ‹è¯•é€šè¿‡ï¼</h3>
                        <p>SRSæŒ‰é’®é€»è¾‘ä¼˜åŒ–æˆåŠŸï¼š</p>
                        <ul>
                            <li>âœ… å¼€å§‹æŒ‰é’®åœ¨SRSæ¨¡å¼ä¸‹æ­£ç¡®éšè—</li>
                            <li>âœ… æ™ºèƒ½å¤ä¹ æŒ‰é’®é€»è¾‘æ­£ç¡®</li>
                            <li>âœ… SRSå¼€å§‹æŒ‰é’®æ˜¾ç¤ºé€»è¾‘æ­£ç¡®</li>
                            <li>âœ… å®¹å™¨æ˜¾ç¤ºé€»è¾‘æ­£ç¡®</li>
                        </ul>
                    </div>
                `;
            } else {
                resultsDiv.innerHTML = `
                    <div class="status error">
                        <h3>âŒ éƒ¨åˆ†æµ‹è¯•å¤±è´¥</h3>
                        <p>è¯·æ£€æŸ¥ä»¥ä¸‹é¡¹ç›®ï¼š</p>
                        <ul>
                            <li>å¼€å§‹æŒ‰é’®é€»è¾‘: ${testResults.startBtnLogic ? 'âœ…' : 'âŒ'}</li>
                            <li>æ™ºèƒ½å¤ä¹ æŒ‰é’®é€»è¾‘: ${testResults.srsReviewBtnLogic ? 'âœ…' : 'âŒ'}</li>
                            <li>SRSå¼€å§‹æŒ‰é’®é€»è¾‘: ${testResults.srsStartBtnLogic ? 'âœ…' : 'âŒ'}</li>
                            <li>å®¹å™¨æ˜¾ç¤ºé€»è¾‘: ${testResults.containerLogic ? 'âœ…' : 'âŒ'}</li>
                        </ul>
                    </div>
                `;
            }
        }

        function resetTests() {
            document.getElementById('study-mode').value = 'standard';
            testModeChange();
            document.getElementById('test-results').innerHTML = '<p>æµ‹è¯•å·²é‡ç½®</p>';
            testResults = {
                startBtnLogic: false,
                srsReviewBtnLogic: false,
                srsStartBtnLogic: false,
                containerLogic: false
            };
        }

        // æ¨¡æ‹ŸæŒ‰é’®ç‚¹å‡»äº‹ä»¶
        document.getElementById('srs-review-btn').addEventListener('click', function() {
            alert('ğŸ”„ æ™ºèƒ½å¤ä¹ æŒ‰é’®è¢«ç‚¹å‡»ï¼\n\nä¼˜åŒ–åçš„è¡Œä¸ºï¼š\n- ä¸å†åˆ‡æ¢å­¦ä¹ æ¨¡å¼\n- ç›´æ¥è¿›å…¥SRSå¤ä¹ æµç¨‹\n- é¿å…äº†ç•Œé¢è‡ƒè‚¿é—®é¢˜');
        });

        document.getElementById('srs-start-btn').addEventListener('click', function() {
            alert('ğŸš€ SRSå¼€å§‹å¤ä¹ æŒ‰é’®è¢«ç‚¹å‡»ï¼\n\nè¿™æ˜¯SRSå¤ä¹ çš„ä¸»è¦å…¥å£');
        });

        document.getElementById('start-btn').addEventListener('click', function() {
            const currentMode = document.getElementById('study-mode').value;
            if (currentMode === 'srs_review') {
                alert('ğŸ”„ SRSæ¨¡å¼ä¸‹çš„å¼€å§‹æµ‹è¯•æŒ‰é’®è¢«ç‚¹å‡»ï¼\n\nä¼˜åŒ–åçš„è¡Œä¸ºï¼š\n- éšè—æ‰€æœ‰ä¸ç›¸å¹²çš„div\n- æ˜¾ç¤ºSRSå¤ä¹ åŒºåŸŸ\n- è®©å¤ä¹ ç•Œé¢åœ¨è§†è§‰ä¸Šå‡ºç°åœ¨å¦ä¸€ä¸ªç•Œé¢');
            } else {
                alert('âœ… å¼€å§‹æµ‹è¯•æŒ‰é’®æ­£å¸¸å·¥ä½œ');
            }
        });

        // åˆå§‹åŒ–æµ‹è¯•
        testModeChange();
    </script>
</body>
</html> 