<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>测试词性显示修复</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
        }
        .test-case {
            border: 1px solid #ddd;
            padding: 15px;
            margin-bottom: 20px;
            border-radius: 5px;
        }
        .test-title {
            font-weight: bold;
            margin-bottom: 10px;
        }
        .input-data {
            background-color: #f5f5f5;
            padding: 10px;
            margin-bottom: 10px;
            border-radius: 3px;
        }
        .output-result {
            background-color: #e9f7ef;
            padding: 10px;
            border-radius: 3px;
        }
        .pos-display {
            margin-top: 5px;
            color: #666;
        }
        small {
            font-size: 0.85em;
            color: #666;
        }
    </style>
</head>
<body>
    <h1>词性显示修复测试</h1>
    
    <div class="test-case">
        <div class="test-title">测试用例1: 方括号中的词性标签</div>
        <div class="input-data">
            <div>词性: "n."</div>
            <div>意思: "天堂，［pl. ］ 天国；天，天空；上帝，神"</div>
        </div>
        <div class="output-result" id="result1">
            <div>格式化结果:</div>
            <div id="formatted1"></div>
            <div class="pos-display">提取的词性: <span id="pos1"></span></div>
        </div>
    </div>

    <div class="test-case">
        <div class="test-title">测试用例2: 多个词性标签</div>
        <div class="input-data">
            <div>词性: "n. & v."</div>
            <div>意思: "n. 测试，考验；v. 测试，考验"</div>
        </div>
        <div class="output-result" id="result2">
            <div>格式化结果:</div>
            <div id="formatted2"></div>
            <div class="pos-display">提取的词性: <span id="pos2"></span></div>
        </div>
    </div>

    <div class="test-case">
        <div class="test-title">测试用例3: 方括号中的词性标签与普通词性混合</div>
        <div class="input-data">
            <div>词性: "n. & v."</div>
            <div>意思: "n. 测试，［pl.］ 多个测试；v. 测试，考验"</div>
        </div>
        <div class="output-result" id="result3">
            <div>格式化结果:</div>
            <div id="formatted3"></div>
            <div class="pos-display">提取的词性: <span id="pos3"></span></div>
        </div>
    </div>

    <div class="test-case">
        <div class="test-title">测试用例4: heaven 示例</div>
        <div class="input-data">
            <div>词性: "n. & pl."</div>
            <div>意思: "n. 天堂，［pl. ］ 天国；天，天空；上帝，神"</div>
        </div>
        <div class="output-result" id="result4">
            <div>格式化结果:</div>
            <div id="formatted4"></div>
            <div class="pos-display">提取的词性: <span id="pos4"></span></div>
        </div>
    </div>

    <script src="fix_mess_display_new.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // 测试用例1
            const result1 = formatPOSAndMeaning("n.", "天堂，［pl. ］ 天国；天，天空；上帝，神");
            document.getElementById('formatted1').innerHTML = result1.formattedMeaning;
            document.getElementById('pos1').textContent = result1.extractedPos;
            
            // 测试用例2
            const result2 = formatPOSAndMeaning("n. & v.", "n. 测试，考验；v. 测试，考验");
            document.getElementById('formatted2').innerHTML = result2.formattedMeaning;
            document.getElementById('pos2').textContent = result2.extractedPos;
            
            // 测试用例3
            const result3 = formatPOSAndMeaning("n. & v.", "n. 测试，［pl.］ 多个测试；v. 测试，考验");
            document.getElementById('formatted3').innerHTML = result3.formattedMeaning;
            document.getElementById('pos3').textContent = result3.extractedPos;
            
            // 测试用例4 - heaven 示例
            const result4 = formatPOSAndMeaning("n. & pl.", "n. 天堂，［pl. ］ 天国；天，天空；上帝，神");
            document.getElementById('formatted4').innerHTML = result4.formattedMeaning;
            document.getElementById('pos4').textContent = result4.extractedPos;
        });
    </script>
</body>
</html>