<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="UTF-8">
  <title>ã€å­¦ä¹ å¾ªç¯ç‰ˆã€‘å•è¯è€ƒæ ¸ (List 19 & 20)</title>
  <style>
    body {
      font-family: 'Arial', 'Microsoft YaHei', sans-serif;
      background: #f0f4f8;
      color: #333;
      padding: 20px;
      line-height: 1.8;
    }
    .container {
      max-width: 800px;
      margin: 0 auto;
      background: #ffffff;
      padding: 20px 40px;
      border-radius: 8px;
      box-shadow: 0 4px 10px rgba(0,0,0,0.1);
    }
    h1, h2, h3 {
      color: #005a9c;
      border-bottom: 1px solid #e1e1e1;
      padding-bottom: 10px;
    }
    h1 { border-bottom-width: 2px; }
    .word-box {
      margin-bottom: 18px;
      display: flex;
      align-items: center;
      padding-bottom: 10px;
      border-bottom: 1px dashed #ccc;
    }
    label { flex: 1; min-width: 350px; margin-right: 15px; }
    .tag {
        font-size: 0.8em; font-weight: bold; color: #fff;
        padding: 2px 8px; border-radius: 10px; margin-right: 8px;
    }
    .list-tag { background-color: #6c757d; }
    .pos { font-style: italic; color: #007bff; font-weight: bold; }
    .ipa { color: #d35400; font-family: "Lucida Sans Unicode", sans-serif; margin-left: 8px; }
    input { padding: 10px; width: 220px; border: 1px solid #ccc; border-radius: 4px; font-size: 16px; }
    button {
        margin-top: 20px; padding: 12px 25px; background: #28a745; border: none;
        color: white; font-weight: bold; cursor: pointer; border-radius: 5px;
        font-size: 18px; display: block; width: 100%;
    }
    .result {
      margin-top: 30px; padding: 20px; background: #e6f7ff;
      border: 1px solid #91d5ff; border-radius: 8px;
    }
    .final-congrats {
        margin-top: 30px; padding: 30px; background: #d4edda;
        border: 1px solid #c3e6cb; border-radius: 8px; text-align: center;
    }
    .list-stats { margin-top: 20px; padding-top: 15px; border-top: 2px solid #91d5ff; }
    .correct { color: #28a745; font-weight: bold; }
    .incorrect { color: #dc3545; text-decoration: line-through; }
    .result-line { padding: 5px 0; font-size: 1.1em; }

    @media print {
        body, .container { background: #fff; box-shadow: none; margin: 0; padding: 0; }
        .instructions, form, button { display: none; }
        .result { border: none; }
    }
  </style>
</head>
<body>

  <div class="container">
    <h1>ã€å­¦ä¹ å¾ªç¯ç‰ˆã€‘å•è¯è€ƒæ ¸</h1>
    <h2 id="quiz-title">è€ƒæ ¸èŒƒå›´: List 19 & 20</h2>
    <p class="instructions">æäº¤ç­”æ¡ˆåå°†è‡ªåŠ¨æ‰“å°ç»“æœï¼Œå¹¶å¯¹é”™è¯è¿›è¡Œä¸‹ä¸€è½®è€ƒæ ¸ï¼Œç›´è‡³å…¨éƒ¨æŒæ¡ï¼</p>
    
    <form id="quizForm">
      <div id="wordList"></div>
      <button type="submit">æäº¤ç­”æ¡ˆå¹¶è¿›å…¥ä¸‹ä¸€è½®</button>
    </form>
  
    <div class="result" id="result" style="display:none;">
      <h2 id="result-title">æµ‹è¯•ç»“æœåˆ†æ</h2>
      <div id="result-details"></div>
    </div>
  </div>

  <script>
    // åˆå§‹å•è¯åˆ—è¡¨
    let currentWords = [
        // List 19
        { list: 19, word: "importance", pos: "n.", ipa: "/ÉªmËˆpÉ”Ëtns/", meaning: "é‡è¦ï¼ˆæ€§ï¼‰" },
        { list: 19, word: "stress", pos: "n./v.", ipa: "/stres/", meaning: "å‹åŠ›,ç´§å¼ ï¼›å¼ºè°ƒ" },
        { list: 19, word: "fever", pos: "n.", ipa: "/ËˆfiËvÉ™(r)/", meaning: "å‘çƒ­,å‘çƒ§ï¼›ç‹‚çƒ­" },
        { list: 19, word: "island", pos: "n.", ipa: "/ËˆaÉªlÉ™nd/", meaning: "å²›,å²›å±¿" },
        { list: 19, word: "energy", pos: "n.", ipa: "/ËˆenÉ™dÊ’i/", meaning: "ç²¾åŠ›ï¼›èƒ½é‡ï¼›èƒ½æº" },
        { list: 19, word: "provide", pos: "v.", ipa: "/prÉ™ËˆvaÉªd/", meaning: "ä¾›åº”,æä¾›" },
        { list: 19, word: "ourselves", pos: "pron.", ipa: "/ËŒaÊŠÉ™Ëˆselvz/", meaning: "æˆ‘ä»¬è‡ªå·±ï¼›æˆ‘ä»¬äº²è‡ª" },
        { list: 19, word: "bowl", pos: "n.", ipa: "/bÉ™ÊŠl/", meaning: "ç¢—,é’µ" },
        { list: 19, word: "carrot", pos: "n.", ipa: "/ËˆkÃ¦rÉ™t/", meaning: "èƒ¡èåœ" },
        { list: 19, word: "reach", pos: "n./v.", ipa: "/riËtÊƒ/", meaning: "èŒƒå›´ï¼›åˆ°è¾¾" },
        { list: 19, word: "partner", pos: "n./v.", ipa: "/ËˆpÉ‘ËtnÉ™(r)/", meaning: "é…å¶,æ­æ¡£ï¼›ä¼™ä¼´" },
        { list: 19, word: "strict", pos: "adj.", ipa: "/strÉªkt/", meaning: "ä¸¥æ ¼çš„,ä¸¥å‰çš„" },
        { list: 19, word: "ready", pos: "adj.", ipa: "/Ëˆredi/", meaning: "å‡†å¤‡å¥½çš„,ç°æˆçš„" },
        { list: 19, word: "fence", pos: "n./v.", ipa: "/fens/", meaning: "æ …æ ,ç¯±ç¬†ï¼›å›´ä½" },
        { list: 19, word: "entertainment", pos: "n.", ipa: "/ËŒentÉ™ËˆteÉªnmÉ™nt/", meaning: "å¨±ä¹ï¼›æ‹›å¾…" },
        { list: 19, word: "chalk", pos: "n.", ipa: "/tÊƒÉ”Ëk/", meaning: "ç²‰ç¬”" },
        { list: 19, word: "desk", pos: "n.", ipa: "/desk/", meaning: "ä¹¦æ¡Œ,åŠå…¬æ¡Œ" },
        { list: 19, word: "sport", pos: "n./v.", ipa: "/spÉ”Ët/", meaning: "è¿åŠ¨ï¼›ç‚«è€€" },
        { list: 19, word: "print", pos: "n./v.", ipa: "/prÉªnt/", meaning: "å­—ä½“ï¼›å°åˆ·" },
        { list: 19, word: "tell", pos: "v.", ipa: "/tel/", meaning: "è®²,å‘Šè¯‰ï¼›åˆ†è¾¨" },
        { list: 19, word: "attitude", pos: "n.", ipa: "/ËˆÃ¦tÉªtjuËd/", meaning: "æ€åº¦ï¼›çœ‹æ³•" },
        { list: 19, word: "spell", pos: "v.", ipa: "/spel/", meaning: "æ‹¼å†™ï¼›æ„å‘³ç€" },
        { list: 19, word: "king", pos: "n.", ipa: "/kÉªÅ‹/", meaning: "å›ä¸»,å›½ç‹" },
        { list: 19, word: "juice", pos: "n.", ipa: "/dÊ’uËs/", meaning: "æ±,æ¶²" },
        { list: 19, word: "notebook", pos: "n.", ipa: "/ËˆnÉ™ÊŠtbÊŠk/", meaning: "ç¬”è®°æœ¬" },
        { list: 19, word: "before", pos: "adv./prep./conj.", ipa: "/bÉªËˆfÉ”Ë(r)/", meaning: "ä»¥å‰ï¼›åœ¨...ä¹‹å‰" },
        { list: 19, word: "test", pos: "n./v.", ipa: "/test/", meaning: "è¯•éªŒ,æµ‹è¯•" },
        { list: 19, word: "pass", pos: "n./v.", ipa: "/pÉ‘Ës/", meaning: "é€šè¡Œè¯ï¼›é€šè¿‡" },
        { list: 19, word: "balance", pos: "n./v.", ipa: "/ËˆbÃ¦lÉ™ns/", meaning: "å¤©å¹³ï¼›ä½¿å¹³è¡¡" },
        { list: 19, word: "crowd", pos: "n./v.", ipa: "/kraÊŠd/", meaning: "äººç¾¤ï¼›èšé›†" },
        { list: 19, word: "robot", pos: "n.", ipa: "/ËˆrÉ™ÊŠbÉ’t/", meaning: "æœºå™¨äºº" },
        { list: 19, word: "seat", pos: "n./v.", ipa: "/siËt/", meaning: "åº§ä½ï¼›ä½¿åä¸‹" },
        { list: 19, word: "creative", pos: "adj.", ipa: "/kriËˆeÉªtÉªv/", meaning: "åˆ›é€ æ€§çš„" },
        { list: 19, word: "time", pos: "n./v.", ipa: "/taÉªm/", meaning: "æ—¶é—´ï¼›ä¸ºâ€¦å®šæ—¶" },
        { list: 19, word: "soccer", pos: "n.", ipa: "/ËˆsÉ’kÉ™(r)/", meaning: "è¶³çƒ" },
        { list: 19, word: "thirty", pos: "num.", ipa: "/ËˆÎ¸ÉœËti/", meaning: "ä¸‰å" },
        { list: 19, word: "glad", pos: "adj.", ipa: "/É¡lÃ¦d/", meaning: "é«˜å…´çš„,å¿«æ´»çš„" },
        { list: 19, word: "crazy", pos: "adj.", ipa: "/ËˆkreÉªzi/", meaning: "ç–¯ç‹‚çš„ï¼›è¿·æ‹çš„" },
        { list: 19, word: "monster", pos: "n.", ipa: "/ËˆmÉ’nstÉ™(r)/", meaning: "æ€ªç‰©ï¼›å¦–æ€ª" },
        { list: 19, word: "interview", pos: "n./v.", ipa: "/ËˆÉªntÉ™vjuË/", meaning: "é¢è¯•ï¼›é‡‡è®¿" },
        { list: 19, word: "compare", pos: "n./v.", ipa: "/kÉ™mËˆpeÉ™(r)/", meaning: "æ¯”è¾ƒï¼›æ¯”å–»" },
        { list: 19, word: "sea", pos: "n.", ipa: "/siË/", meaning: "æµ·,æµ·æ´‹" },
        { list: 19, word: "use", pos: "v./n.", ipa: "/juËz/", meaning: "ç”¨,ä½¿ç”¨" },
        { list: 19, word: "spotlight", pos: "n./v.", ipa: "/ËˆspÉ’tlaÉªt/", meaning: "èšå…‰ç¯ï¼›å…³æ³¨" },
        { list: 19, word: "album", pos: "n.", ipa: "/ËˆÃ¦lbÉ™m/", meaning: "ç›¸å†Œï¼›ä¸“è¾‘" },
        { list: 19, word: "inside", pos: "prep./adv.", ipa: "/ÉªnËˆsaÉªd/", meaning: "åœ¨â€¦é‡Œé¢" },
        { list: 19, word: "fourteen", pos: "num.", ipa: "/ËŒfÉ”ËËˆtiËn/", meaning: "åå››" },
        { list: 19, word: "whole", pos: "adj./n.", ipa: "/hÉ™ÊŠl/", meaning: "å…¨éƒ¨çš„ï¼›æ•´ä½“" },
        { list: 19, word: "thick", pos: "adj.", ipa: "/Î¸Éªk/", meaning: "åšçš„,ç²—çš„ï¼›æµ“çš„" },
        { list: 19, word: "share", pos: "v./n.", ipa: "/ÊƒeÉ™(r)/", meaning: "åˆ†äº«ï¼›è‚¡ä»½" },
        { list: 19, word: "online", pos: "adj./adv.", ipa: "/ËŒÉ’nËˆlaÉªn/", meaning: "åœ¨çº¿çš„" },
        { list: 19, word: "garage", pos: "n.", ipa: "/ËˆÉ¡Ã¦rÉ‘ËÊ’/", meaning: "è½¦åº“ï¼›æ±½è½¦ä¿®ç†è¡Œ" },
        { list: 19, word: "big", pos: "adj.", ipa: "/bÉªÉ¡/", meaning: "å¤§çš„,å·¨å¤§çš„" },
        { list: 19, word: "somebody", pos: "pron.", ipa: "/ËˆsÊŒmbÉ™di/", meaning: "æŸäºº,æœ‰äºº" },
        { list: 19, word: "mouth", pos: "n.", ipa: "/maÊŠÎ¸/", meaning: "å˜´,å£" },
        { list: 19, word: "noon", pos: "n.", ipa: "/nuËn/", meaning: "æ­£åˆ,ä¸­åˆ" },
        { list: 19, word: "prison", pos: "n.", ipa: "/prÉªzn/", meaning: "ç›‘ç‹±" },
        // List 20
        { list: 20, word: "enter", pos: "v.", ipa: "/ËˆentÉ™(r)/", meaning: "è¿›å…¥ï¼›å‚åŠ " },
        { list: 20, word: "chemistry", pos: "n.", ipa: "/ËˆkemÉªstri/", meaning: "åŒ–å­¦" },
        { list: 20, word: "storm", pos: "n./v.", ipa: "/stÉ”Ëm/", meaning: "æš´é£é›¨ï¼›çŒ›æ”»" },
        { list: 20, word: "challenge", pos: "n./v.", ipa: "/ËˆtÊƒÃ¦lÉ™ndÊ’/", meaning: "æŒ‘æˆ˜ï¼›è´¨ç–‘" },
        { list: 20, word: "specifically", pos: "adv.", ipa: "/spÉ™ËˆsÉªfÉªkli/", meaning: "æ˜ç¡®åœ°,å…·ä½“åœ°" },
        { list: 20, word: "interest", pos: "n./v.", ipa: "/ËˆÉªntrÉ™st/", meaning: "å…´è¶£ï¼›åˆ©ç›Šï¼›ä½¿æ„Ÿå…´è¶£" },
        { list: 20, word: "cola", pos: "n.", ipa: "/ËˆkÉ™ÊŠlÉ™/", meaning: "å¯ä¹é¥®æ–™" },
        { list: 20, word: "golden", pos: "adj.", ipa: "/ËˆÉ¡É™ÊŠldÉ™n/", meaning: "é»„é‡‘çš„ï¼›çè´µçš„" },
        { list: 20, word: "put", pos: "v.", ipa: "/pÊŠt/", meaning: "æ”¾,æ‘†ï¼›è¯´,è¡¨è¾¾" },
        { list: 20, word: "net", pos: "n./adj.", ipa: "/net/", meaning: "ç½‘ï¼›å‡€çš„" },
        { list: 20, word: "show", pos: "v./n.", ipa: "/ÊƒÉ™ÊŠ/", meaning: "è¡¨æ˜ï¼›æ˜¾ç¤ºï¼›æ¼”å‡º" },
        { list: 20, word: "treasure", pos: "n./v.", ipa: "/ËˆtreÊ’É™(r)/", meaning: "è´¢å®ï¼›ççˆ±" },
        { list: 20, word: "basket", pos: "n.", ipa: "/ËˆbÉ‘ËskÉªt/", meaning: "ç¯®,ç¯“,ç­" },
        { list: 20, word: "high", pos: "adj./adv.", ipa: "/haÉª/", meaning: "é«˜çš„ï¼›é«˜çº§çš„" },
        { list: 20, word: "deal", pos: "v./n.", ipa: "/diËl/", meaning: "å¤„ç†ï¼›äº¤æ˜“" },
        { list: 20, word: "why", pos: "adv./int.", ipa: "/waÉª/", meaning: "ä¸ºä»€ä¹ˆï¼›å“å‘€" },
        { list: 20, word: "saying", pos: "n.", ipa: "/ËˆseÉªÉªÅ‹/", meaning: "è¯ï¼›ä¿—è¯,è°šè¯­" },
        { list: 20, word: "apple", pos: "n.", ipa: "/ËˆÃ¦pl/", meaning: "è‹¹æœ" },
        { list: 20, word: "sometimes", pos: "adv.", ipa: "/ËˆsÊŒmtaÉªmz/", meaning: "æœ‰æ—¶,é—´æˆ–" },
        { list: 20, word: "dark", pos: "adj./n.", ipa: "/dÉ‘Ëk/", meaning: "æš—çš„ï¼›é»‘æš—" },
        { list: 20, word: "sun", pos: "n.", ipa: "/sÊŒn/", meaning: "å¤ªé˜³,æ—¥" },
        { list: 20, word: "firm", pos: "n./adj.", ipa: "/fÉœËm/", meaning: "å…¬å¸ï¼›åšå®çš„" },
        { list: 20, word: "coat", pos: "n./v.", ipa: "/kÉ™ÊŠt/", meaning: "ä¸Šè¡£ï¼›æ¶‚ä¸Š" },
        { list: 20, word: "suitable", pos: "adj.", ipa: "/ËˆsuËtÉ™bl/", meaning: "é€‚å½“çš„,åˆé€‚çš„" },
        { list: 20, word: "mouse", pos: "n.", ipa: "/maÊŠs/", meaning: "é¼ ï¼›é¼ æ ‡" },
        { list: 20, word: "beauty", pos: "n.", ipa: "/ËˆbjuËti/", meaning: "ç¾,ç¾ä¸½ï¼›ç¾äºº" },
        { list: 20, word: "excuse", pos: "n./v.", ipa: "/ÉªkËˆskjuËz/", meaning: "å€Ÿå£ï¼›åŸè°…" },
        { list: 20, word: "choose", pos: "v.", ipa: "/tÊƒuËz/", meaning: "é€‰æ‹©,æŒ‘é€‰" },
        { list: 20, word: "bulb", pos: "n.", ipa: "/bÊŒlb/", meaning: "çƒèŒï¼›ç¯æ³¡" },
        { list: 20, word: "secret", pos: "adj./n.", ipa: "/ËˆsiËkrÉ™t/", meaning: "ç§˜å¯†çš„ï¼›ç§˜å¯†" },
        { list: 20, word: "job", pos: "n.", ipa: "/dÊ’É’b/", meaning: "èŒä¸š,å·¥ä½œ" },
        { list: 20, word: "lead", pos: "v./n.", ipa: "/liËd/", meaning: "é¢†å¯¼ï¼›æ¦œæ ·" },
        { list: 20, word: "lead", pos: "n.", ipa: "/led/", meaning: "é“…" },
        { list: 20, word: "once", pos: "adv./conj.", ipa: "/wÊŒns/", meaning: "ä¸€æ¬¡ï¼›ä¸€æ—¦â€¦å°±â€¦" },
        { list: 20, word: "by", pos: "prep./adv.", ipa: "/baÉª/", meaning: "è¢«ï¼›å‡­å€Ÿï¼›åœ¨â€¦æ—" },
        { list: 20, word: "evening", pos: "n.", ipa: "/ËˆiËvnÉªÅ‹/", meaning: "å‚æ™š,æ™šä¸Š" },
        { list: 20, word: "clap", pos: "n./v.", ipa: "/klÃ¦p/", meaning: "æ‹æ‰‹,é¼“æŒ" },
        { list: 20, word: "gift", pos: "n.", ipa: "/É¡Éªft/", meaning: "ç¤¼ç‰©ï¼›å¤©èµ‹" },
        { list: 20, word: "add", pos: "v.", ipa: "/Ã¦d/", meaning: "æ·»åŠ ,å¢åŠ " },
        { list: 20, word: "luck", pos: "n.", ipa: "/lÊŒk/", meaning: "è¿æ°”ï¼›å¥½è¿" },
        { list: 20, word: "accident", pos: "n.", ipa: "/ËˆÃ¦ksÉªdÉ™nt/", meaning: "æ„å¤–,äº‹æ•…" },
        { list: 20, word: "talk", pos: "n./v.", ipa: "/tÉ”Ëk/", meaning: "è°ˆè¯ï¼›æ¼”è®²" },
        { list: 20, word: "count", pos: "v./n.", ipa: "/kaÊŠnt/", meaning: "è®¡æ•°ï¼›æ€»æ•°" },
        { list: 20, word: "permission", pos: "n.", ipa: "/pÉ™ËˆmÉªÊƒn/", meaning: "è®¸å¯,å…è®¸" },
        { list: 20, word: "rope", pos: "n./v.", ipa: "/rÉ™ÊŠp/", meaning: "ç»³ç´¢ï¼›æ†" },
        { list: 20, word: "act", pos: "n./v.", ipa: "/Ã¦kt/", meaning: "è¡Œä¸ºï¼›æ³•ä»¤ï¼›è¡ŒåŠ¨" },
        { list: 20, word: "honey", pos: "n.", ipa: "/ËˆhÊŒni/", meaning: "èœ‚èœœï¼›å®è´å„¿" },
        { list: 20, word: "kid", pos: "n./v.", ipa: "/kÉªd/", meaning: "å°å­©ï¼›å¼€ç©ç¬‘" },
        { list: 20, word: "increase", pos: "v.", ipa: "/ÉªnËˆkriËs/", meaning: "å¢åŠ ,å¢å¼º" },
        { list: 20, word: "increase", pos: "n.", ipa: "/ËˆÉªnkriËs/", meaning: "å¢åŠ ,å¢å¼º" },
        { list: 20, word: "hometown", pos: "n./adj.", ipa: "/ËˆhÉ™ÊŠmËˆtaÊŠn/", meaning: "å®¶ä¹¡ï¼›å®¶ä¹¡çš„" },
        { list: 20, word: "documentary", pos: "adj./n.", ipa: "/ËŒdÉ’kjuËˆmentri/", meaning: "æ–‡ä»¶çš„ï¼›çºªå½•ç‰‡" },
        { list: 20, word: "shampoo", pos: "n./vt.", ipa: "/ÊƒÃ¦mËˆpuË/", meaning: "æ´—å‘å‰‚ï¼›ç”¨æ´—å‘å‰‚æ´—" },
        { list: 20, word: "prize", pos: "n./v.", ipa: "/praÉªz/", meaning: "å¥–èµï¼›çè§†" },
        { list: 20, word: "better", pos: "adj./adv.", ipa: "/ËˆbetÉ™(r)/", meaning: "æ›´å¥½çš„ï¼›æ›´å¥½åœ°" },
        { list: 20, word: "sort", pos: "n./v.", ipa: "/sÉ”Ët/", meaning: "ç§ç±»ï¼›åˆ†ç±»" },
        { list: 20, word: "teenager", pos: "n.", ipa: "/ËˆtiËneÉªdÊ’É™(r)/", meaning: "åå‡ å²çš„é’å°‘å¹´" },
        { list: 20, word: "but", pos: "conj./prep.", ipa: "/bÊŒt/", meaning: "ä½†æ˜¯ï¼›é™¤â€¦ä»¥å¤–" },
        { list: 20, word: "follow", pos: "v./n.", ipa: "/ËˆfÉ’lÉ™ÊŠ/", meaning: "è·Ÿéšï¼›éµç…§" },
        { list: 20, word: "else", pos: "adv.", ipa: "/els/", meaning: "å…¶ä»–,å¦å¤–" }
    ];

    const wordListContainer = document.getElementById('wordList');
    const form = document.getElementById('quizForm');
    const resultContainer = document.getElementById('result');
    const resultDetails = document.getElementById('result-details');
    const quizTitle = document.getElementById('quiz-title');
    let round = 1;

    function generateQuiz(words) {
        wordListContainer.innerHTML = ''; // æ¸…ç©ºåˆ—è¡¨
        resultContainer.style.display = 'none'; // éšè—ç»“æœåŒº
        quizTitle.textContent = `ç¬¬ ${round} è½®è€ƒæ ¸ (å‰©ä½™ ${words.length} è¯)`;
        
        words.forEach((item, index) => {
            const wordBox = document.createElement('div');
            wordBox.className = 'word-box';
            const inputId = `word-${index}`;
            wordBox.innerHTML = `
                <label for="${inputId}">
                    <span class="tag list-tag">List ${item.list}</span>
                    <span class="pos">${item.pos}</span>
                    ${item.meaning}
                    <span class="ipa">[${item.ipa}]</span>ï¼š
                </label>
                <input type="text" id="${inputId}" autocomplete="off">
            `;
            wordListContainer.appendChild(wordBox);
        });
        // è®©ç¬¬ä¸€ä¸ªè¾“å…¥æ¡†è‡ªåŠ¨è·å¾—ç„¦ç‚¹
        if(wordListContainer.querySelector('input')) {
            wordListContainer.querySelector('input').focus();
        }
    }

    form.addEventListener('submit', function(event) {
        event.preventDefault();

        const incorrectWords = [];
        let correctCount = 0;
        let listStats = {};

        resultDetails.innerHTML = '';

        currentWords.forEach((item, index) => {
            const inputElement = document.getElementById(`word-${index}`);
            const userAnswer = inputElement.value.trim();
            const correctAnswer = item.word;

            if (!listStats[item.list]) {
                listStats[item.list] = { correct: 0, total: 0 };
            }
            listStats[item.list].total++;

            const resultLine = document.createElement('div');
            resultLine.className = 'result-line';
            
            if (userAnswer.toLowerCase() === correctAnswer.toLowerCase()) {
                correctCount++;
                listStats[item.list].correct++;
                resultLine.innerHTML = `<span class="correct">âœ” æ­£ç¡®: ${correctAnswer}</span>`;
            } else {
                incorrectWords.push(item); // å°†é”™è¯å¯¹è±¡åŠ å…¥æ•°ç»„
                resultLine.innerHTML = `âœ˜ é”™è¯¯: â€œ${correctAnswer}â€ â€” ä½ çš„ç­”æ¡ˆ: <span class="incorrect">${userAnswer || 'ï¼ˆæœªå¡«å†™ï¼‰'}</span>`;
            }
            resultDetails.appendChild(resultLine);
        });

        // --- æ˜¾ç¤ºç»“æœåˆ†æ ---
        const summary = document.createElement('h3');
        const overallPercentage = Math.round((correctCount / currentWords.length) * 100);
        summary.textContent = `ç¬¬ ${round} è½®æ€»ç»“: ç­”å¯¹ ${correctCount} / ${currentWords.length} ä¸ªå•è¯ï¼Œæ­£ç¡®ç‡: ${overallPercentage}%`;
        resultDetails.prepend(summary);

        const listStatsContainer = document.createElement('div');
        listStatsContainer.className = 'list-stats';
        Object.keys(listStats).sort().forEach(listNum => {
            const stats = listStats[listNum];
            const percentage = Math.round((stats.correct / stats.total) * 100);
            listStatsContainer.innerHTML += `<p><b>List ${listNum} è®°å¿†æƒ…å†µ:</b> ç­”å¯¹ ${stats.correct} / ${stats.total} ä¸ªï¼Œæ­£ç¡®ç‡: ${percentage}%</p>`;
        });
        resultDetails.appendChild(listStatsContainer);
        
        resultContainer.style.display = 'block';

        // --- è‡ªåŠ¨æ‰“å°å¹¶å‡†å¤‡ä¸‹ä¸€è½® ---
        setTimeout(() => {
            // 1. è‡ªåŠ¨æ‰“å°
            document.getElementById('result-title').textContent = `ç¬¬ ${round} è½®æµ‹è¯•ç»“æœåˆ†æ`;
            window.print();

            // 2. å‡†å¤‡ä¸‹ä¸€è½®æˆ–ç»“æŸ
            if (incorrectWords.length > 0) {
                currentWords = incorrectWords; // æ›´æ–°è¦è€ƒæ ¸çš„å•è¯åˆ—è¡¨ä¸ºä¸Šä¸€è½®çš„é”™è¯
                round++;
                generateQuiz(currentWords);
            } else {
                wordListContainer.innerHTML = `
                    <div class="final-congrats">
                        <h1>ğŸ‰ æ­å–œï¼</h1>
                        <p>æ‰€æœ‰å•è¯å·²å…¨éƒ¨æŒæ¡ï¼Œæœ¬æ¬¡å­¦ä¹ ä»»åŠ¡å®Œæˆï¼</p>
                    </div>
                `;
                form.style.display = 'none'; // éšè—è¡¨å•
            }
        }, 1000); // å»¶è¿Ÿ1ç§’æ‰§è¡Œï¼Œç¡®ä¿ç»“æœå¯è§
    });

    // åˆå§‹ç”Ÿæˆç¬¬ä¸€è½®è€ƒæ ¸
    generateQuiz(currentWords);
  </script>

</body>
</html>