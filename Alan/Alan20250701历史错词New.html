<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="UTF-8">
  <title>ã€ç»ˆæç‰ˆã€‘Alan å†å²é”™è¯æ¸…é›¶è€ƒæ ¸</title>
  <style>
    body {
      font-family: 'Arial', 'Microsoft YaHei', sans-serif;
      background: #f0f4f8;
      color: #333;
      padding: 20px;
      line-height: 1.8;
    }
    .container {
      max-width: 800px;
      margin: 0 auto;
      background: #ffffff;
      padding: 20px 40px;
      border-radius: 8px;
      box-shadow: 0 4px 10px rgba(0,0,0,0.1);
    }
    h1, h2, h3 {
      color: #b30000;
      border-bottom: 1px solid #e1e1e1;
      padding-bottom: 10px;
    }
    h1 { border-bottom-width: 2px; }
    p.instructions {
      color: #555;
      font-size: 1.1em;
      background-color: #fffbe6;
      border-left: 5px solid #ffc107;
      padding: 10px;
    }
    .word-box {
      margin-bottom: 18px;
      display: flex;
      align-items: center;
      flex-wrap: wrap;
      padding: 10px 0;
      border-bottom: 1px dashed #ccc;
    }
    .word-box label {
      flex: 1;
      min-width: 350px;
      margin-right: 15px;
      line-height: 1.5;
    }
    label .tag-container {
        display: block;
        margin-bottom: 5px;
    }
    label .tag {
        font-size: 0.8em;
        font-weight: bold;
        color: #fff;
        padding: 2px 8px;
        border-radius: 10px;
        margin-right: 6px;
        white-space: nowrap;
    }
    .item-num { font-weight: bold; margin-right: 5px; color: #005a9c; }
    .book-tag { background-color: #17a2b8; }
    .list-tag { background-color: #28a745; }
    .count-tag { background-color: #dc3545; }
    .date-tag { background-color: #6c757d; }
    
    label .pos { font-style: italic; color: #007bff; font-weight: bold; }
    label .ipa { color: #d35400; font-family: "Lucida Sans Unicode", sans-serif; margin-left: 8px; }
    
    input { padding: 10px; width: 220px; border: 1px solid #ccc; border-radius: 4px; font-size: 16px; }
    
    button {
        margin-top: 20px; padding: 12px 25px; background: #007bff; border: none;
        color: white; font-weight: bold; cursor: pointer; border-radius: 5px;
        font-size: 18px; display: block; width: 100%; transition: background-color 0.2s;
    }
    button:hover { background: #0056b3; }

    .result { margin-top: 30px; padding: 20px; background: #e6f7ff; border: 1px solid #91d5ff; border-radius: 8px; }
    .final-congrats {
        margin-top: 30px; padding: 30px; background: #d4edda;
        border: 1px solid #c3e6cb; border-radius: 8px; text-align: center;
    }
    .list-stats { margin-top: 20px; padding-top: 15px; border-top: 2px solid #91d5ff; }
    .correct { color: #28a745; font-weight: bold; }
    .incorrect { color: #dc3545; text-decoration: line-through; }
    .result-line { padding: 5px 0; font-size: 1.1em; }

    @media print {
        body, .container { background: #fff; box-shadow: none; margin: 0; padding: 0; }
        .instructions, form, button, .final-congrats { display: none; }
        .result { border: none; margin-top: 0; }
        .container { padding: 0; }
    }
  </style>
</head>
<body>

  <div class="container">
    <h1>ã€ç»ˆæç‰ˆã€‘å†å²é”™è¯æ¸…é›¶è€ƒæ ¸</h1>
    <h2 id="quiz-title"></h2>
    <p class="instructions">
      æœ¬æµ‹è¯•èšåˆäº†å…¨éƒ¨å†å²é”™è¯ã€‚æäº¤åå°†è‡ªåŠ¨æ‰“å°ï¼Œå¹¶å¯¹é”™è¯è¿›è¡Œå¾ªç¯è€ƒæ ¸ï¼Œç›´è‡³å…¨éƒ¨æŒæ¡ï¼
    </p>
    
    <form id="quizForm">
      <div id="wordList"></div>
      <button type="submit">æäº¤ç­”æ¡ˆå¹¶è¿›å…¥ä¸‹ä¸€è½®</button>
    </form>
  
    <div class="result" id="result" style="display:none;">
      <h2 id="result-title">æµ‹è¯•ç»“æœåˆ†æ</h2>
      <div id="result-details"></div>
    </div>
  </div>

  <script>
    let currentWords = [
        { book: "åˆä¸­è‹±è¯­è¯æ±‡", listName: "Unit 26", errorCount: 3, lastErrorDate: "2025-06-27", word: "original", pos: "adj. & n.", ipa: "/É™ËˆrÉªdÊ’É™nl/", meaning: "æœ€åˆçš„, åŸå§‹çš„; åŸä»¶" },
        { book: "åˆä¸­è‹±è¯­è¯æ±‡", listName: "Unit 21", errorCount: 3, lastErrorDate: "2025-06-25", word: "convenient", pos: "adj.", ipa: "/kÉ™nËˆviËniÉ™nt/", meaning: "æ–¹ä¾¿çš„, ä¾¿åˆ©çš„" },
        { book: "åˆä¸­è‹±è¯­è¯æ±‡", listName: "Unit 22", errorCount: 3, lastErrorDate: "2025-06-25", word: "escalator", pos: "n.", ipa: "/ËˆÉ›skÉ™leÉªtÉ™r/", meaning: "è‡ªåŠ¨æ‰¶æ¢¯" },
        { book: "åˆä¸­è‹±è¯­è¯æ±‡", listName: "Unit 22", errorCount: 3, lastErrorDate: "2025-06-25", word: "nature", pos: "n.", ipa: "/ËˆneÉªtÊƒÉ™r/", meaning: "å¤§è‡ªç„¶, æœ¬æ€§" },
        { book: "åˆä¸­è‹±è¯­è¯æ±‡", listName: "Unit 25", errorCount: 2, lastErrorDate: "2025-06-27", word: "unimportant", pos: "adj.", ipa: "/ËŒÊŒnÉªmËˆpÉ”Ërtnt/", meaning: "ä¸é‡è¦çš„, çç¢çš„" },
        { book: "åˆä¸­è‹±è¯­è¯æ±‡", listName: "Unit 21", errorCount: 2, lastErrorDate: "2025-06-25", word: "seal", pos: "n. & v.", ipa: "/siËl/", meaning: "å°æ¡, æµ·è±¹; å¯†å°" },
        { book: "åˆä¸­è‹±è¯­è¯æ±‡", listName: "Unit 22", errorCount: 2, lastErrorDate: "2025-06-25", word: "Atlantic", pos: "adj. & n.", ipa: "/É™tËˆlÃ¦ntÉªk/", meaning: "å¤§è¥¿æ´‹(çš„)" },
        { book: "åˆä¸­è‹±è¯­è¯æ±‡", listName: "Unit 22", errorCount: 2, lastErrorDate: "2025-06-25", word: "age", pos: "v.", ipa: "/eÉªdÊ’/", meaning: "(ä½¿)å˜è€, æˆç†Ÿ" },
        { book: "åˆä¸­è‹±è¯­è¯æ±‡", listName: "Unit 22", errorCount: 2, lastErrorDate: "2025-06-25", word: "enemy", pos: "n.", ipa: "/ËˆÉ›nÉ™mi/", meaning: "æ•Œäºº, ä»‡æ•Œ" },
        { book: "é«˜ä¸­è‹±è¯­è¯æ±‡", listName: "Unit 11", errorCount: 1, lastErrorDate: "2025-06-28", word: "pleasant", pos: "adj.", ipa: "/ËˆplÉ›znt/", meaning: "ä»¤äººæ„‰å¿«çš„, èˆ’é€‚çš„" },
        { book: "é«˜ä¸­è‹±è¯­è¯æ±‡", listName: "Unit 40", errorCount: 1, lastErrorDate: "2025-06-28", word: "agent", pos: "n.", ipa: "/ËˆeÉªdÊ’É™nt/", meaning: "ä»£ç†å•†" },
        { book: "é«˜ä¸­è‹±è¯­è¯æ±‡", listName: "Unit 40", errorCount: 1, lastErrorDate: "2025-06-28", word: "gallery", pos: "n.", ipa: "/ËˆÉ¡Ã¦lÉ™ri/", meaning: "ç”»å»Š, ç¾æœ¯å“é™ˆåˆ—å®¤" },
        { book: "é«˜ä¸­è‹±è¯­è¯æ±‡", listName: "ç®€å•å•è¯", errorCount: 1, lastErrorDate: "2025-06-28", word: "discussion", pos: "n.", ipa: "/dÉªËˆskÊŒÊƒn/", meaning: "è®¨è®º, è¾©è®º" },
        { book: "åˆä¸­è‹±è¯­è¯æ±‡", listName: "Unit 1", errorCount: 1, lastErrorDate: "2025-06-27", word: "lend", pos: "v.", ipa: "/lÉ›nd/", meaning: "æŠŠâ€¦å€Ÿç»™, å‡ºå€Ÿ" },
        { book: "åˆä¸­è‹±è¯­è¯æ±‡", listName: "Unit 1", errorCount: 1, lastErrorDate: "2025-06-27", word: "reply", pos: "n. & v.", ipa: "/rÉªËˆplaÉª/", meaning: "å›ç­”, ç­”å¤" },
        { book: "åˆä¸­è‹±è¯­è¯æ±‡", listName: "Unit 1", errorCount: 1, lastErrorDate: "2025-06-27", word: "honor", pos: "n. & v.", ipa: "/ËˆÉ’nÉ™r/", meaning: "å°Šæ•¬, è£èª‰" },
        { book: "åˆä¸­è‹±è¯­è¯æ±‡", listName: "Unit 1", errorCount: 1, lastErrorDate: "2025-06-27", word: "sixteen", pos: "num.", ipa: "/sÉªkËˆstiËn/", meaning: "åå…­" },
        { book: "åˆä¸­è‹±è¯­è¯æ±‡", listName: "Unit 1", errorCount: 1, lastErrorDate: "2025-06-27", word: "thirteenth", pos: "num. & n.", ipa: "/Î¸ÉœËrËˆtiËnÎ¸/", meaning: "ç¬¬åä¸‰" },
        { book: "åˆä¸­è‹±è¯­è¯æ±‡", listName: "Unit 1", errorCount: 1, lastErrorDate: "2025-06-27", word: "towards", pos: "prep.", ipa: "/tÉ™ËˆwÉ”Ërdz/", meaning: "å‘, æœ" },
        { book: "åˆä¸­è‹±è¯­è¯æ±‡", listName: "Unit 1", errorCount: 1, lastErrorDate: "2025-06-27", word: "two-thirds", pos: "n.", ipa: "/ËŒtuËËˆÎ¸ÉœËrdz/", meaning: "ä¸‰åˆ†ä¹‹äºŒ" },
        { book: "åˆä¸­è‹±è¯­è¯æ±‡", listName: "Unit 1", errorCount: 1, lastErrorDate: "2025-06-27", word: "newspaper", pos: "n.", ipa: "/ËˆnuËzpeÉªpÉ™r/", meaning: "æŠ¥çº¸" },
        { book: "åˆä¸­è‹±è¯­è¯æ±‡", listName: "Unit 1", errorCount: 1, lastErrorDate: "2025-06-27", word: "volleyball", pos: "n.", ipa: "/ËˆvÉ’libÉ”Ël/", meaning: "æ’çƒ" },
        { book: "åˆä¸­è‹±è¯­è¯æ±‡", listName: "Unit 2", errorCount: 1, lastErrorDate: "2025-06-27", word: "strategy", pos: "n.", ipa: "/ËˆstrÃ¦tÉ™dÊ’i/", meaning: "è°‹ç•¥, æˆ˜ç•¥" },
        { book: "åˆä¸­è‹±è¯­è¯æ±‡", listName: "Unit 2", errorCount: 1, lastErrorDate: "2025-06-27", word: "restaurant", pos: "n.", ipa: "/ËˆrÉ›stÉ™rÉ’nt/", meaning: "é¤é¦†, é¥­åº—" },
        { book: "åˆä¸­è‹±è¯­è¯æ±‡", listName: "Unit 2", errorCount: 1, lastErrorDate: "2025-06-27", word: "cigarette", pos: "n.", ipa: "/ËˆsÉªÉ¡É™rÉ›t/", meaning: "é¦™çƒŸ" },
        { book: "åˆä¸­è‹±è¯­è¯æ±‡", listName: "Unit 2", errorCount: 1, lastErrorDate: "2025-06-27", word: "thirtieth", pos: "num. & n.", ipa: "/ËˆÎ¸ÉœËrtiÉªÎ¸/", meaning: "ç¬¬ä¸‰å" },
        { book: "åˆä¸­è‹±è¯­è¯æ±‡", listName: "Unit 2", errorCount: 1, lastErrorDate: "2025-06-27", word: "is", pos: "v.", ipa: "/Éªz/", meaning: "æ˜¯" },
        { book: "åˆä¸­è‹±è¯­è¯æ±‡", listName: "Unit 3", errorCount: 1, lastErrorDate: "2025-06-27", word: "correct", pos: "adj. & v.", ipa: "/kÉ™ËˆrÉ›kt/", meaning: "æ­£ç¡®çš„; æ”¹æ­£" },
        { book: "åˆä¸­è‹±è¯­è¯æ±‡", listName: "Unit 3", errorCount: 1, lastErrorDate: "2025-06-27", word: "board", pos: "v.", ipa: "/bÉ”Ërd/", meaning: "ç™»æœº, ä¸Šèˆ¹" },
        { book: "åˆä¸­è‹±è¯­è¯æ±‡", listName: "Unit 3", errorCount: 1, lastErrorDate: "2025-06-27", word: "everywhere", pos: "adv.", ipa: "/ËˆÉ›vriwer/", meaning: "åˆ°å¤„, å„å¤„" },
        { book: "åˆä¸­è‹±è¯­è¯æ±‡", listName: "Unit 3", errorCount: 1, lastErrorDate: "2025-06-27", word: "topic", pos: "n.", ipa: "/ËˆtÉ’pÉªk/", meaning: "é¢˜ç›®, è¯é¢˜" },
        { book: "åˆä¸­è‹±è¯­è¯æ±‡", listName: "Unit 3", errorCount: 1, lastErrorDate: "2025-06-27", word: "size", pos: "n. & v.", ipa: "/saÉªz/", meaning: "å¤§å°, å°ºå¯¸" },
        { book: "åˆä¸­è‹±è¯­è¯æ±‡", listName: "Unit 3", errorCount: 1, lastErrorDate: "2025-06-27", word: "bicycle", pos: "n. & v.", ipa: "/ËˆbaÉªsÉªkl/", meaning: "è‡ªè¡Œè½¦" },
        { book: "åˆä¸­è‹±è¯­è¯æ±‡", listName: "Unit 3", errorCount: 1, lastErrorDate: "2025-06-27", word: "university", pos: "n.", ipa: "/ËŒjuËnÉªËˆvÉœËrsÉ™ti/", meaning: "å¤§å­¦" },
        { book: "åˆä¸­è‹±è¯­è¯æ±‡", listName: "Unit 3", errorCount: 1, lastErrorDate: "2025-06-27", word: "parent", pos: "n.", ipa: "/ËˆperÉ™nt/", meaning: "çˆ¶äº²(æˆ–æ¯äº²)" },
        { book: "åˆä¸­è‹±è¯­è¯æ±‡", listName: "Unit 4", errorCount: 1, lastErrorDate: "2025-06-27", word: "march", pos: "v. & n.", ipa: "/mÉ‘ËrtÊƒ/", meaning: "è¡Œå†›, å‰è¿›" },
        { book: "åˆä¸­è‹±è¯­è¯æ±‡", listName: "Unit 4", errorCount: 1, lastErrorDate: "2025-06-27", word: "represent", pos: "v.", ipa: "/ËŒrÉ›prÉªËˆzÉ›nt/", meaning: "ä½œä¸º...çš„ä»£è¡¨" },
        { book: "åˆä¸­è‹±è¯­è¯æ±‡", listName: "Unit 4", errorCount: 1, lastErrorDate: "2025-06-27", word: "everyday", pos: "adj.", ipa: "/ËˆÉ›vrideÉª/", meaning: "æ¯å¤©çš„, æ—¥å¸¸çš„" },
        { book: "åˆä¸­è‹±è¯­è¯æ±‡", listName: "Unit 4", errorCount: 1, lastErrorDate: "2025-06-27", word: "Sunday", pos: "n.", ipa: "/ËˆsÊŒndeÉª/", meaning: "æ˜ŸæœŸæ—¥" },
        { book: "åˆä¸­è‹±è¯­è¯æ±‡", listName: "Unit 4", errorCount: 1, lastErrorDate: "2025-06-27", word: "upstairs", pos: "adv. & adj. & n.", ipa: "/ÊŒpËˆsterz/", meaning: "åœ¨æ¥¼ä¸Š, æ¥¼ä¸Šçš„" },
        { book: "åˆä¸­è‹±è¯­è¯æ±‡", listName: "Unit 25", errorCount: 1, lastErrorDate: "2025-06-27", word: "legend", pos: "n.", ipa: "/ËˆlÉ›dÊ’É™nd/", meaning: "ä¼ è¯´, ä¼ å¥‡äººç‰©" },
        { book: "åˆä¸­è‹±è¯­è¯æ±‡", listName: "Unit 25", errorCount: 1, lastErrorDate: "2025-06-27", word: "guard", pos: "n. & v.", ipa: "/É¡É‘Ërd/", meaning: "è­¦æˆ’, å®ˆå«" },
        { book: "åˆä¸­è‹±è¯­è¯æ±‡", listName: "Unit 25", errorCount: 1, lastErrorDate: "2025-06-27", word: "front", pos: "n. & adj.", ipa: "/frÊŒnt/", meaning: "å‰é¢, æ­£é¢" },
        { book: "åˆä¸­è‹±è¯­è¯æ±‡", listName: "Unit 25", errorCount: 1, lastErrorDate: "2025-06-27", word: "confident", pos: "adj.", ipa: "/ËˆkÉ’nfÉªdÉ™nt/", meaning: "ç¡®ä¿¡çš„, è‡ªä¿¡çš„" },
        { book: "åˆä¸­è‹±è¯­è¯æ±‡", listName: "Unit 25", errorCount: 1, lastErrorDate: "2025-06-27", word: "foreign", pos: "adj.", ipa: "/ËˆfÉ”ËrÉ™n/", meaning: "å¤–å›½çš„" },
        { book: "é«˜ä¸­è‹±è¯­è¯æ±‡", listName: "ç®€å•å•è¯", errorCount: 1, lastErrorDate: "2025-06-29", word: "passenger", pos: "n.", ipa: "/ËˆpÃ¦sÉªndÊ’É™r/", meaning: "ä¹˜å®¢, æ—…å®¢" },
        { book: "åˆä¸­è‹±è¯­è¯æ±‡", listName: "Unit 25", errorCount: 1, lastErrorDate: "2025-06-27", word: "beyond", pos: "adv.", ipa: "/biËˆÉ’nd/", meaning: "åœ¨æ›´è¿œå¤„" },
        { book: "åˆä¸­è‹±è¯­è¯æ±‡", listName: "Unit 25", errorCount: 1, lastErrorDate: "2025-06-27", word: "kangaroo", pos: "n.", ipa: "/ËŒkÃ¦Å‹É¡É™ËˆruË/", meaning: "è¢‹é¼ " },
        { book: "åˆä¸­è‹±è¯­è¯æ±‡", listName: "Unit 25", errorCount: 1, lastErrorDate: "2025-06-27", word: "opportunity", pos: "n.", ipa: "/ËŒÉ’pÉ™rËˆtuËnÉ™ti/", meaning: "æœºä¼š, è‰¯æœº" },
        { book: "åˆä¸­è‹±è¯­è¯æ±‡", listName: "Unit 26", errorCount: 1, lastErrorDate: "2025-06-27", word: "chopsticks", pos: "n.", ipa: "/ËˆtÊƒÉ’pstÉªks/", meaning: "ç­·å­" },
        { book: "åˆä¸­è‹±è¯­è¯æ±‡", listName: "Unit 26", errorCount: 1, lastErrorDate: "2025-06-27", word: "picnic", pos: "n. & v.", ipa: "/ËˆpÉªknÉªk/", meaning: "é‡é¤" },
        { book: "åˆä¸­è‹±è¯­è¯æ±‡", listName: "Unit 26", errorCount: 1, lastErrorDate: "2025-06-27", word: "marry", pos: "v.", ipa: "/ËˆmÃ¦ri/", meaning: "å¨¶, å«" },
        { book: "åˆä¸­è‹±è¯­è¯æ±‡", listName: "Unit 26", errorCount: 1, lastErrorDate: "2025-06-27", word: "purse", pos: "n.", ipa: "/pÉœËrs/", meaning: "é’±åŒ…" },
        { book: "åˆä¸­è‹±è¯­è¯æ±‡", listName: "Unit 26", errorCount: 1, lastErrorDate: "2025-06-27", word: "bow", pos: "n.", ipa: "/boÊŠ/", meaning: "å¼“, è´è¶ç»“" },
        { book: "åˆä¸­è‹±è¯­è¯æ±‡", listName: "Unit 26", errorCount: 1, lastErrorDate: "2025-06-27", word: "bow", pos: "n. & v.", ipa: "/baÊŠ/", meaning: "é èº¬, ä½å¤´" },
        { book: "åˆä¸­è‹±è¯­è¯æ±‡", listName: "Unit 26", errorCount: 1, lastErrorDate: "2025-06-27", word: "ninety", pos: "num.", ipa: "/ËˆnaÉªnti/", meaning: "ä¹å" },
        { book: "åˆä¸­è‹±è¯­è¯æ±‡", listName: "Unit 26", errorCount: 1, lastErrorDate: "2025-06-27", word: "sauce", pos: "n.", ipa: "/sÉ”Ës/", meaning: "è°ƒå‘³æ±, é…±æ±" },
        { book: "åˆä¸­è‹±è¯­è¯æ±‡", listName: "Unit 26", errorCount: 1, lastErrorDate: "2025-06-27", word: "deaf", pos: "adj.", ipa: "/dÉ›f/", meaning: "è‹çš„" },
        { book: "åˆä¸­è‹±è¯­è¯æ±‡", listName: "Unit 26", errorCount: 1, lastErrorDate: "2025-06-27", word: "thought", pos: "n.", ipa: "/Î¸É”Ët/", meaning: "æƒ³æ³•, æ€è€ƒ" },
        { book: "åˆä¸­è‹±è¯­è¯æ±‡", listName: "Unit 26", errorCount: 1, lastErrorDate: "2025-06-27", word: "calculator", pos: "n.", ipa: "/ËˆkÃ¦lkjÉ™leÉªtÉ™r/", meaning: "è®¡ç®—å™¨" },
        { book: "åˆä¸­è‹±è¯­è¯æ±‡", listName: "Unit 26", errorCount: 1, lastErrorDate: "2025-06-27", word: "October", pos: "n.", ipa: "/É’kËˆtoÊŠbÉ™r/", meaning: "åæœˆ" },
        { book: "åˆä¸­è‹±è¯­è¯æ±‡", listName: "Unit 26", errorCount: 1, lastErrorDate: "2025-06-27", word: "zebra", pos: "n.", ipa: "/ËˆziËbrÉ™/", meaning: "æ–‘é©¬" },
        { book: "åˆä¸­è‹±è¯­è¯æ±‡", listName: "Unit 26", errorCount: 1, lastErrorDate: "2025-06-27", word: "forty", pos: "num.", ipa: "/ËˆfÉ”Ërti/", meaning: "å››å" },
        { book: "åˆä¸­è‹±è¯­è¯æ±‡", listName: "Unit 26", errorCount: 1, lastErrorDate: "2025-06-27", word: "court", pos: "n. & v.", ipa: "/kÉ”Ërt/", meaning: "æ³•åº­, çƒåœº" },
        { book: "åˆä¸­è‹±è¯­è¯æ±‡", listName: "Unit 26", errorCount: 1, lastErrorDate: "2025-06-27", word: "row", pos: "n. & v.", ipa: "/roÊŠ/", meaning: "(ä¸€)æ’, åˆ’èˆ¹" },
        { book: "åˆä¸­è‹±è¯­è¯æ±‡", listName: "Unit 26", errorCount: 1, lastErrorDate: "2025-06-27", word: "row", pos: "n. & v.", ipa: "/raÊŠ/", meaning: "äº‰åµ, æ–¥è´£" },
        { book: "åˆä¸­è‹±è¯­è¯æ±‡", listName: "Unit 26", errorCount: 1, lastErrorDate: "2025-06-27", word: "wrong", pos: "adj. & n.", ipa: "/rÉ”ËÅ‹/", meaning: "é”™è¯¯çš„" },
        { book: "åˆä¸­è‹±è¯­è¯æ±‡", listName: "Unit 26", errorCount: 1, lastErrorDate: "2025-06-27", word: "awful", pos: "adj.", ipa: "/ËˆÉ”Ëfl/", meaning: "æåçš„, ç³Ÿç³•çš„" },
        { book: "åˆä¸­è‹±è¯­è¯æ±‡", listName: "Unit 23", errorCount: 1, lastErrorDate: "2025-06-26", word: "comma", pos: "n.", ipa: "/ËˆkÉ’mÉ™/", meaning: "é€—å·" },
        { book: "åˆä¸­è‹±è¯­è¯æ±‡", listName: "Unit 23", errorCount: 1, lastErrorDate: "2025-06-26", word: "quality", pos: "n. & adj.", ipa: "/ËˆkwÉ’lÉ™ti/", meaning: "è´¨é‡, å“è´¨" },
        { book: "åˆä¸­è‹±è¯­è¯æ±‡", listName: "Unit 23", errorCount: 1, lastErrorDate: "2025-06-26", word: "furniture", pos: "n.", ipa: "/ËˆfÉœËrnÉªtÊƒÉ™r/", meaning: "å®¶å…·" },
        { book: "åˆä¸­è‹±è¯­è¯æ±‡", listName: "Unit 23", errorCount: 1, lastErrorDate: "2025-06-26", word: "Christmas", pos: "n.", ipa: "/ËˆkrÉªsmÉ™s/", meaning: "åœ£è¯èŠ‚" },
        { book: "åˆä¸­è‹±è¯­è¯æ±‡", listName: "Unit 23", errorCount: 1, lastErrorDate: "2025-06-26", word: "president", pos: "n.", ipa: "/ËˆprÉ›zÉªdÉ™nt/", meaning: "æ€»ç»Ÿ, æ ¡é•¿" },
        { book: "åˆä¸­è‹±è¯­è¯æ±‡", listName: "Unit 23", errorCount: 1, lastErrorDate: "2025-06-26", word: "tale", pos: "n.", ipa: "/teÉªl/", meaning: "æ•…äº‹, ä¼ è¯´" },
        { book: "åˆä¸­è‹±è¯­è¯æ±‡", listName: "Unit 23", errorCount: 1, lastErrorDate: "2025-06-26", word: "invent", pos: "v.", ipa: "/ÉªnËˆvÉ›nt/", meaning: "å‘æ˜, åˆ›é€ " },
        { book: "åˆä¸­è‹±è¯­è¯æ±‡", listName: "Unit 23", errorCount: 1, lastErrorDate: "2025-06-26", word: "population", pos: "n.", ipa: "/ËŒpÉ’pjuËˆleÉªÊƒn/", meaning: "äººå£" },
        { book: "åˆä¸­è‹±è¯­è¯æ±‡", listName: "Unit 23", errorCount: 1, lastErrorDate: "2025-06-26", word: "jazz", pos: "n. & adj.", ipa: "/dÊ’Ã¦z/", meaning: "çˆµå£«ä¹" },
        { book: "åˆä¸­è‹±è¯­è¯æ±‡", listName: "Unit 23", errorCount: 1, lastErrorDate: "2025-06-26", word: "wolf", pos: "n.", ipa: "/wÊŠlf/", meaning: "ç‹¼" },
        { book: "åˆä¸­è‹±è¯­è¯æ±‡", listName: "Unit 23", errorCount: 1, lastErrorDate: "2025-06-26", word: "province", pos: "n.", ipa: "/ËˆprÉ’vÉªns/", meaning: "çœ, é¢†åŸŸ" },
        { book: "åˆä¸­è‹±è¯­è¯æ±‡", listName: "Unit 24", errorCount: 1, lastErrorDate: "2025-06-26", word: "instrument", pos: "n.", ipa: "/ËˆÉªnstrÉ™mÉ™nt/", meaning: "ä¹å™¨, ä»ªå™¨" },
        { book: "åˆä¸­è‹±è¯­è¯æ±‡", listName: "Unit 24", errorCount: 1, lastErrorDate: "2025-06-26", word: "talented", pos: "adj.", ipa: "/ËˆtÃ¦lÉ™ntÉªd/", meaning: "æœ‰æ‰èƒ½çš„" },
        { book: "åˆä¸­è‹±è¯­è¯æ±‡", listName: "Unit 24", errorCount: 1, lastErrorDate: "2025-06-26", word: "duty", pos: "n.", ipa: "/ËˆduËti/", meaning: "è´£ä»», ä¹‰åŠ¡" },
        { book: "åˆä¸­è‹±è¯­è¯æ±‡", listName: "Unit 24", errorCount: 1, lastErrorDate: "2025-06-26", word: "below", pos: "adv.", ipa: "/bÉªËˆloÊŠ/", meaning: "åœ¨ä¸‹é¢" },
        { book: "åˆä¸­è‹±è¯­è¯æ±‡", listName: "Unit 24", errorCount: 1, lastErrorDate: "2025-06-26", word: "final", pos: "adj. & n.", ipa: "/ËˆfaÉªnl/", meaning: "æœ€åçš„, å†³èµ›" },
        { book: "åˆä¸­è‹±è¯­è¯æ±‡", listName: "Unit 24", errorCount: 1, lastErrorDate: "2025-06-26", word: "insist", pos: "v.", ipa: "/ÉªnËˆsÉªst/", meaning: "åšæŒè¦æ±‚" },
        { book: "åˆä¸­è‹±è¯­è¯æ±‡", listName: "Unit 24", errorCount: 1, lastErrorDate: "2025-06-26", word: "opinion", pos: "n.", ipa: "/É™ËˆpÉªnjÉ™n/", meaning: "æ„è§, ä¸»å¼ " },
        { book: "åˆä¸­è‹±è¯­è¯æ±‡", listName: "Unit 24", errorCount: 1, lastErrorDate: "2025-06-26", word: "pool", pos: "n.", ipa: "/puËl/", meaning: "æ°´æ± , æ¸¸æ³³æ± " },
        { book: "åˆä¸­è‹±è¯­è¯æ±‡", listName: "Unit 24", errorCount: 1, lastErrorDate: "2025-06-26", word: "nineteen", pos: "num.", ipa: "/ËŒnaÉªnËˆtiËn/", meaning: "åä¹" },
        { book: "åˆä¸­è‹±è¯­è¯æ±‡", listName: "Unit 24", errorCount: 1, lastErrorDate: "2025-06-26", word: "watermelon", pos: "n.", ipa: "/ËˆwÉ”ËtÉ™rmelÉ™n/", meaning: "è¥¿ç“œ" },
        { book: "åˆä¸­è‹±è¯­è¯æ±‡", listName: "Unit 24", errorCount: 1, lastErrorDate: "2025-06-26", word: "birth", pos: "n.", ipa: "/bÉœËrÎ¸/", meaning: "å‡ºç”Ÿ, åˆ†å¨©" },
        { book: "åˆä¸­è‹±è¯­è¯æ±‡", listName: "Unit 24", errorCount: 1, lastErrorDate: "2025-06-26", word: "praise", pos: "v. & n.", ipa: "/preÉªz/", meaning: "èµæ‰¬, è¡¨æ‰¬" },
        { book: "åˆä¸­è‹±è¯­è¯æ±‡", listName: "Unit 24", errorCount: 1, lastErrorDate: "2025-06-26", word: "farm", pos: "n. & v.", ipa: "/fÉ‘Ërm/", meaning: "å†œåœº, è€•ä½œ" },
        { book: "åˆä¸­è‹±è¯­è¯æ±‡", listName: "Unit 24", errorCount: 1, lastErrorDate: "2025-06-26", word: "thirsty", pos: "adj.", ipa: "/ËˆÎ¸ÉœËrsti/", meaning: "å£æ¸´çš„" },
        { book: "åˆä¸­è‹±è¯­è¯æ±‡", listName: "Unit 24", errorCount: 1, lastErrorDate: "2025-06-26", word: "mess", pos: "n. & v.", ipa: "/mÉ›s/", meaning: "å‡Œä¹±, å¼„ç³Ÿ" },
        { book: "åˆä¸­è‹±è¯­è¯æ±‡", listName: "Unit 21", errorCount: 1, lastErrorDate: "2025-06-25", word: "cotton", pos: "n.", ipa: "/ËˆkÉ’tn/", meaning: "æ£‰, æ£‰èŠ±" },
        { book: "åˆä¸­è‹±è¯­è¯æ±‡", listName: "Unit 21", errorCount: 1, lastErrorDate: "2025-06-25", word: "plastic", pos: "adj. & n.", ipa: "/ËˆplÃ¦stÉªk/", meaning: "å¡‘æ–™(çš„)" },
        { book: "åˆä¸­è‹±è¯­è¯æ±‡", listName: "Unit 21", errorCount: 1, lastErrorDate: "2025-06-25", word: "glue", pos: "n. & v.", ipa: "/É¡luË/", meaning: "èƒ¶æ°´, ç²˜è´´" },
        { book: "åˆä¸­è‹±è¯­è¯æ±‡", listName: "Unit 21", errorCount: 1, lastErrorDate: "2025-06-25", word: "terrible", pos: "adj.", ipa: "/ËˆtÉ›rÉ™bl/", meaning: "å¯æ€•çš„, å¾ˆç³Ÿçš„" },
        { book: "åˆä¸­è‹±è¯­è¯æ±‡", listName: "Unit 21", errorCount: 1, lastErrorDate: "2025-06-25", word: "careful", pos: "adj.", ipa: "/Ëˆkerfl/", meaning: "å°å¿ƒçš„, ä»”ç»†çš„" },
        { book: "åˆä¸­è‹±è¯­è¯æ±‡", listName: "Unit 21", errorCount: 1, lastErrorDate: "2025-06-25", word: "under", pos: "adv.", ipa: "/ËˆÊŒndÉ™r/", meaning: "åœ¨ä¸‹é¢" },
        { book: "åˆä¸­è‹±è¯­è¯æ±‡", listName: "Unit 21", errorCount: 1, lastErrorDate: "2025-06-25", word: "several", pos: "adj.", ipa: "/ËˆsÉ›vrÉ™l/", meaning: "å‡ ä¸ª, è‹¥å¹²" },
        { book: "åˆä¸­è‹±è¯­è¯æ±‡", listName: "Unit 21", errorCount: 1, lastErrorDate: "2025-06-25", word: "reveal", pos: "v.", ipa: "/rÉªËˆviËl/", meaning: "æ­éœ², æ³„éœ²" },
        { book: "åˆä¸­è‹±è¯­è¯æ±‡", listName: "Unit 21", errorCount: 1, lastErrorDate: "2025-06-25", word: "marathon", pos: "n. & adj. & v.", ipa: "/ËˆmÃ¦rÉ™Î¸É’n/", meaning: "é©¬æ‹‰æ¾" },
        { book: "åˆä¸­è‹±è¯­è¯æ±‡", listName: "Unit 21", errorCount: 1, lastErrorDate: "2025-06-25", word: "discovery", pos: "n.", ipa: "/dÉªËˆskÊŒvÉ™ri/", meaning: "å‘ç°, å‘è§‰" },
        { book: "åˆä¸­è‹±è¯­è¯æ±‡", listName: "Unit 21", errorCount: 1, lastErrorDate: "2025-06-25", word: "clothes", pos: "n.", ipa: "/kloÊŠÃ°z/", meaning: "è¡£æœ, æœè£…" },
        { book: "åˆä¸­è‹±è¯­è¯æ±‡", listName: "Unit 21", errorCount: 1, lastErrorDate: "2025-06-25", word: "purpose", pos: "n.", ipa: "/ËˆpÉœËrpÉ™s/", meaning: "ç›®çš„, æ„å›¾" },
        { book: "åˆä¸­è‹±è¯­è¯æ±‡", listName: "Unit 21", errorCount: 1, lastErrorDate: "2025-06-25", word: "association", pos: "n.", ipa: "/É™ËŒsoÊŠsiËˆeÉªÊƒn/", meaning: "åä¼š, ç¤¾å›¢" },
        { book: "åˆä¸­è‹±è¯­è¯æ±‡", listName: "Unit 22", errorCount: 1, lastErrorDate: "2025-06-25", word: "author", pos: "n.", ipa: "/ËˆÉ”ËÎ¸É™r/", meaning: "ä½œå®¶, ä½œè€…" },
        { book: "åˆä¸­è‹±è¯­è¯æ±‡", listName: "Unit 22", errorCount: 1, lastErrorDate: "2025-06-25", word: "Jew", pos: "n.", ipa: "/dÊ’uË/", meaning: "çŠ¹å¤ªäºº" },
        { book: "åˆä¸­è‹±è¯­è¯æ±‡", listName: "Unit 22", errorCount: 1, lastErrorDate: "2025-06-25", word: "globe", pos: "n.", ipa: "/É¡loÊŠb/", meaning: "åœ°çƒ, ä¸–ç•Œ" },
        { book: "åˆä¸­è‹±è¯­è¯æ±‡", listName: "Unit 22", errorCount: 1, lastErrorDate: "2025-06-25", word: "cabbage", pos: "n.", ipa: "/ËˆkÃ¦bÉªdÊ’/", meaning: "å·å¿ƒèœ, æ´‹ç™½èœ" },
        { book: "åˆä¸­è‹±è¯­è¯æ±‡", listName: "Unit 22", errorCount: 1, lastErrorDate: "2025-06-25", word: "dialogue", pos: "n.", ipa: "/ËˆdaÉªÉ™lÉ’É¡/", meaning: "å¯¹è¯" },
        { book: "åˆä¸­è‹±è¯­è¯æ±‡", listName: "Unit 22", errorCount: 1, lastErrorDate: "2025-06-25", word: "pain", pos: "n. & v.", ipa: "/peÉªn/", meaning: "ç—›, ç–¼ç—›" },
        { book: "åˆä¸­è‹±è¯­è¯æ±‡", listName: "Unit 22", errorCount: 1, lastErrorDate: "2025-06-25", word: "bill", pos: "v.", ipa: "/bÉªl/", meaning: "ç»™â€¦å¼€è´¦å•" },
        { book: "åˆä¸­è‹±è¯­è¯æ±‡", listName: "Unit 22", errorCount: 1, lastErrorDate: "2025-06-25", word: "positive", pos: "adj. & n.", ipa: "/ËˆpÉ’zÉ™tÉªv/", meaning: "ç§¯æçš„, æ­£é¢çš„" },
        { book: "åˆä¸­è‹±è¯­è¯æ±‡", listName: "Unit 22", errorCount: 1, lastErrorDate: "2025-06-25", word: "pear", pos: "n.", ipa: "/per/", meaning: "æ¢¨(æ ‘)" },
        { book: "åˆä¸­è‹±è¯­è¯æ±‡", listName: "Unit 22", errorCount: 1, lastErrorDate: "2025-06-25", word: "ground", pos: "n.", ipa: "/É¡raÊŠnd/", meaning: "åœ°, åœ°é¢" },
        { book: "åˆä¸­è‹±è¯­è¯æ±‡", listName: "Unit 22", errorCount: 1, lastErrorDate: "2025-06-25", word: "weekend", pos: "n. & adj.", ipa: "/ËˆwiËkÉ›nd/", meaning: "å‘¨æœ«" },
        { book: "åˆä¸­è‹±è¯­è¯æ±‡", listName: "Unit 22", errorCount: 1, lastErrorDate: "2025-06-25", word: "schoolbag", pos: "n.", ipa: "/ËˆskuËlbÃ¦É¡/", meaning: "ä¹¦åŒ…" },
        { book: "åˆä¸­è‹±è¯­è¯æ±‡", listName: "Unit 22", errorCount: 1, lastErrorDate: "2025-06-25", word: "matter", pos: "n. & v.", ipa: "/ËˆmÃ¦tÉ™r/", meaning: "äº‹æƒ…, è¦ç´§" },
        { book: "åˆä¸­è‹±è¯­è¯æ±‡", listName: "Unit 22", errorCount: 1, lastErrorDate: "2025-06-25", word: "project", pos: "n.", ipa: "/ËˆprÉ’dÊ’É›kt/", meaning: "æ–¹æ¡ˆ, é¡¹ç›®" },
        { book: "åˆä¸­è‹±è¯­è¯æ±‡", listName: "Unit 22", errorCount: 1, lastErrorDate: "2025-06-25", word: "vocabulary", pos: "n.", ipa: "/vÉ™ËˆkÃ¦bjÉ™ËŒlÉ›ri/", meaning: "è¯æ±‡, è¯æ±‡é‡" },
        { book: "åˆä¸­è‹±è¯­è¯æ±‡", listName: "Unit 22", errorCount: 1, lastErrorDate: "2025-06-25", word: "list", pos: "n. & v.", ipa: "/lÉªst/", meaning: "è¡¨, ç›®å½•" }
    ];


    const wordListContainer = document.getElementById('wordList');
    const form = document.getElementById('quizForm');
    const resultContainer = document.getElementById('result');
    const resultDetails = document.getElementById('result-details');
    const quizTitle = document.getElementById('quiz-title');
    let round = 1;

    function generateQuiz(words) {
        wordListContainer.innerHTML = '';
        resultContainer.style.display = 'none';
        
        let titleText = `ç¬¬ ${round} è½®è€ƒæ ¸ (å‰©ä½™ ${words.length} è¯)`;
        if(round === 1) {
            titleText = `å†å²é”™è¯æ€»å¤ä¹  (å…± ${words.length} è¯)`;
        }
        quizTitle.textContent = titleText;

        words.forEach((item, index) => {
            const wordBox = document.createElement('div');
            wordBox.className = 'word-box';
            const inputId = `word-${index}`;
            wordBox.innerHTML = `
                <label for="${inputId}">
                    <span class="item-num">${index + 1}.</span>
                    <div class="tag-container">
                        <span class="tag book-tag">è¯ä¹¦: ${item.book}</span>
                        <span class="tag list-tag">å•å…ƒ: ${item.listName}</span>
                        <span class="tag count-tag">é”™è¿‡ ${item.errorCount} æ¬¡</span>
                        <span class="tag date-tag">ä¸Šæ¬¡: ${item.lastErrorDate}</span>
                    </div>
                    <span class="pos">${item.pos}</span> 
                    ${item.meaning} 
                    <span class="ipa">[${item.ipa}]</span>ï¼š
                </label>
                <input type="text" id="${inputId}" autocomplete="off">
            `;
            wordListContainer.appendChild(wordBox);
        });
        if(wordListContainer.querySelector('input')) {
            wordListContainer.querySelector('input').focus();
        }
    }

    form.addEventListener('submit', function(event) {
        event.preventDefault();

        const incorrectWords = [];
        let correctCount = 0;
        let listStats = {};

        resultDetails.innerHTML = '';

        currentWords.forEach((item, index) => {
            const inputElement = document.getElementById(`word-${index}`);
            const userAnswer = inputElement.value.trim();
            const correctAnswer = item.word;

            // åˆ†åˆ—è¡¨ç»Ÿè®¡é€»è¾‘
            const listKey = `${item.book} - ${item.listName}`;
            if (!listStats[listKey]) {
                listStats[listKey] = { correct: 0, total: 0 };
            }
            listStats[listKey].total++;

            const resultLine = document.createElement('div');
            resultLine.className = 'result-line';
            
            if (userAnswer.toLowerCase() === correctAnswer.toLowerCase()) {
                correctCount++;
                listStats[listKey].correct++;
                resultLine.innerHTML = `<span class="correct">âœ” æ­£ç¡®: ${correctAnswer}</span>`;
            } else {
                incorrectWords.push(item);
                resultLine.innerHTML = `âœ˜ é”™è¯¯: â€œ${correctAnswer}â€ â€” ä½ çš„ç­”æ¡ˆ: <span class="incorrect">${userAnswer || 'ï¼ˆæœªå¡«å†™ï¼‰'}</span>`;
            }
            resultDetails.appendChild(resultLine);
        });

        // --- æ˜¾ç¤ºç»“æœåˆ†æ ---
        const summary = document.createElement('h3');
        const overallPercentage = Math.round((correctCount / currentWords.length) * 100);
        summary.textContent = `ç¬¬ ${round} è½®æ€»ç»“: ç­”å¯¹ ${correctCount} / ${currentWords.length} ä¸ªå•è¯ï¼Œæ­£ç¡®ç‡: ${overallPercentage}%`;
        resultDetails.prepend(summary);

        const listStatsContainer = document.createElement('div');
        listStatsContainer.className = 'list-stats';
        Object.keys(listStats).sort().forEach(listKey => {
            const stats = listStats[listKey];
            const percentage = Math.round((stats.correct / stats.total) * 100);
            listStatsContainer.innerHTML += `<p><b>${listKey} è®°å¿†æƒ…å†µ:</b> ç­”å¯¹ ${stats.correct} / ${stats.total} ä¸ªï¼Œæ­£ç¡®ç‡: ${percentage}%</p>`;
        });
        resultDetails.appendChild(listStatsContainer);
        
        resultContainer.style.display = 'block';

        // --- è‡ªåŠ¨æ‰“å°å¹¶å‡†å¤‡ä¸‹ä¸€è½® ---
        setTimeout(() => {
            document.getElementById('result-title').textContent = `ç¬¬ ${round} è½®æµ‹è¯•ç»“æœåˆ†æ`;
            window.print();

            if (incorrectWords.length > 0) {
                currentWords = incorrectWords;
                round++;
                generateQuiz(currentWords);
            } else {
                wordListContainer.innerHTML = `
                    <div class="final-congrats">
                        <h1>ğŸ‰ æ­å–œï¼</h1>
                        <p>æ‰€æœ‰å†å²é”™è¯å·²å…¨éƒ¨æŒæ¡ï¼Œæœ¬æ¬¡å­¦ä¹ ä»»åŠ¡å®Œæˆï¼</p>
                    </div>`;
                form.style.display = 'none';
            }
        }, 1500); // å»¶è¿Ÿ1.5ç§’ï¼Œç¡®ä¿ç»“æœå¯è§å¹¶ç»™æ‰“å°å¯¹è¯æ¡†å¼¹å‡ºç•™å‡ºæ—¶é—´
    });

    // åˆå§‹ç”Ÿæˆç¬¬ä¸€è½®è€ƒæ ¸
    generateQuiz(currentWords);
  </script>

</body>
</html>