我已经为您还原了这份 `Alan-specific.md` 文档，并结合我们项目**最新的进展**（如多用户系统、SRS引擎、模块化架构等）以及您提供的**科学理论依据**，对它进行了全面的**更新、修缮和补充**。

这份新版的文档，现在是一份可以**直接交付给产品或开发团队**的、更具落地性的行动蓝图。

---

## **Lumi单词训练营：Alan同学个性化学习方案 (Hyper-Personalization Plan)**

**版本：** 2.0
**更新日期：** 2025年7月15日
**负责人：** Jenny

### **前言：从“功能”到“成长伙伴”**

本方案旨在为Alan同学设计一套超个性化的学习路径，其核心理念是：**将Lumi从一个单纯的“单词考核工具”，升级为一个能理解Alan、适应其状态、并以科学方法驱动其进步的“智能学习伙伴”**。所有设计都将深度融合认知科学原理，特别是**错误分析、语境关联、生产效应及自适应任务设计**。

---

### **1. 错误分析驱动学习 (Error-Driven Learning Loop)**

**目标**：将每一次错误都转化为一次宝贵的、有针对性的学习机会，增强Alan的元认知能力。

**现状**：我们已经有了强大的`ErrorLogs`表，可以精确记录每个用户（包括Alan）的每一条错题记录。

**落地实现方案**：

1.  **前端“错因自诊”模块 (迭代功能)**：
    * 在每次测试结束后，对于每一个错词，除了显示正确答案外，旁边增加一个“我为什么错了？”的**可交互区域**。
    * 提供几个预设的选项供Alan点选：`□ 拼写混淆 (e.g., diary/dairy)`、`□ 词义不熟`、`□ 听音辨义错误`、`□ 词性混淆 (e.g., usual/usually)`、`□ 纯粹忘记了`。
    * Alan提交错因后，这些信息将被存入`ErrorLogs`表的一个新字段中。

2.  **后端数据赋能**：
    * 当Alan（或教师）在“错题历史”页面筛选时，可以根据“错因”进行**聚合分析**。
    * 例如，系统可以生成报告：“Alan，你最近7天的错误中，有60%是‘拼写混淆’，特别是`i/a`不分，需要加强形近词辨析练习。”

3.  **智能练习推送**：
    * 基于错因分析，系统可以**智能推荐**下一步的练习模式。例如，如果“拼写混淆”是主要问题，系统会自动推荐一个“形近词辨析”的专项练习。

---

### **2. 兴趣驱动的语境学习 (Interest-Driven Contextual Learning)**

**目标**：将枯燥的单词记忆，融入Alan热爱的“足球”等话题中，利用**情境关联**和**真实语境**来提升编码深度和记忆持久性。

**现状**：我们已经具备了多词书和灵活的数据导入能力。

**落地实现方案**：

1.  **创建“语境学习包”**：
    * 教师每周可以准备一个简短的、关于足球新闻的英文文本（`.txt`文件）。
    * 开发一个简单的后台脚本，它可以读取这个文本，并自动抽取出其中的核心词汇。

2.  **开发“今日话题 (Topic of the Day)”模块**：
    * 在Lumi主页，增加一个“今日足球速读”卡片。
    * 点击后，页面会展示这篇短文，并高亮其中的核心生词。
    * 文章下方附带1-2个简单的阅读理解题，以检验Alan是否读懂。

3.  **实现“即学即练”闭环**：
    * 当Alan完成阅读后，点击“开始练习本章词汇”，系统会自动跳转到测试界面。
    * 此时，`/api/questions`接口将**只调用**刚刚在这篇文章里出现过的单词进行考核，实现无缝衔接的学习闭环。

---

### **3. 多感官强化：“生产效应”与“具身认知”**

**目标**：引入“生产效应(Production Effect)”理论，即“说出来”比“默读”记忆效果更好，让Alan通过调动更多感官来加深记忆。

**现状**：我们有TTS能力和成熟的后端API架构。

**落地实现方案**：

1.  **开发“朗读跟读”模式**：
    * 在单词测试界面，增加一个“麦克风”按钮。
    * 流程变为：**听标准发音 -> Alan跟读并录音 -> 回听自己的录音 -> 写出单词**。

2.  **技术实现**：
    * **前端**：使用浏览器内置的`MediaRecorder` API来录制音频。
    * **后端**：创建一个新的API端点，如`POST /api/save-user-audio`，用于接收并存储Alan的录音文件，并将其与对应的`student_id`和`word_id`关联。
    * （**长期目标**）：未来甚至可以接入语音识别API，对Alan的发音进行打分，给出即时反馈。

---

### **4. 自适应与游戏化任务设计 (Adaptive & Gamified Design)**

**目标**：解决Alan因任务量大而产生的**学习疲劳**问题，通过弹性任务设计和游戏化激励，保持其学习动机。

**现状**：我们已经规划了完整的SRS科学记忆引擎。

**落地实现方案**：

1.  **“能量值”系统**：
    * 引入一个“能量条”的概念。每次开始学习，Alan都有100点能量。
    * 连续答对会**少量恢复**能量，并触发Lumi的庆祝动画。
    * 连续答错则会**较多地消耗**能量，Lumi会显示沮丧的表情。

2.  **“疲劳保护”机制**：
    * 当能量值低于某个阈值（比如20%）时，系统会自动触发“疲劳保护”。
    * **系统会主动提问**：“Alan，看起来有点累了，要不要换个轻松点的模式？我们可以来一组简单的‘看词选义’，或者休息5分钟，看一段精彩的足球集锦？”
    * 这个选择会**直接影响SRS算法**：如果选择“切换模式”，系统会临时降低后续题目的难度；如果选择“休息”，则本次学习会提前结束，今日未完成的“新词”任务将被顺延至明天。

3.  **成就与奖励**：
    * 设计一套成就徽章系统，例如“连续答对20词”、“一周学习大满贯”、“攻克10个高难词”等。
    * 获得的徽章可以用来“解锁”新的Lumi皮肤或动画特效。

---

### **总结：为Alan定制的路线图**

| 功能模块 | 目的 | **当前状态与下一步** |
| :--- | :--- | :--- |
| **错因分类界面** | 帮助深入分析错误类型 | **概念验证阶段**。后端数据库已支持，下一步需要前端UI开发和数据埋点。 |
| **小语境练习库** | 提供包含错词的阅读+听力练习 | **待开发**。需要开发文本导入和词汇提取的后台脚本，并设计新的前端展示模块。 |
| **朗读录音+回听** | 支持录音，回听后加深记忆 | **待开发**。需要前后端协作，实现录音、上传和存储功能。 |
| **疲劳检测+切换** | 保持高完成率，避免情绪崩溃 | **与SRS引擎强相关**。待SRS核心算法完成后，可作为高级功能加入。 |
| **AI创意练习** | 利用AI生成个性化练习内容 | **待开发**。技术上可行，在SRS功能稳定后，可作为下一个核心迭代目标。 |

这份方案将指导我们下一步的开发重点，确保我们不仅在交付一个软件，更是在为Alan（以及未来的每一位用户）打造一个真正懂他、能帮助他成长的个性化导师。